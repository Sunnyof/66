System.register("chunks:///_virtual/bulletController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,s,o,a,l,h,r,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.Node,o=t._decorator,a=t.Component,l=t.find,h=t.Collider2D,r=t.Contact2DType,g=t.Vec2}],execute:function(){var d,c,p,u,m;n._RF.push({},"0b066TW04tL7qwMrmms8WK+","bulletController",void 0);const{ccclass:y,property:v}=o;t("bulletController",(d=y("bulletController"),c=v(s),d((m=e((u=class extends a{constructor(...t){super(...t),i(this,"target",m,this),this.isTarget=void 0,this.boolean=null,this.speed=6,this.lastVector=null,this.minY=0}start(){if(this.lastVector=this.angle_to_vector(this.node.angle+90),"game_strong_bullet"==this.node.name)this.target=l("Canvas/gameView/StrongBulletAttackPoint");else{for(let t=1;t<l("Canvas/gameView/enemyPool").children.length;t++)this.minY=0,l("Canvas/gameView/enemyPool").children[t].position.y<l("Canvas/gameView/enemyPool").children[this.minY].position.y&&(this.minY=t);this.target=l("Canvas/gameView/enemyPool").children[this.minY]}let t=this.getComponent(h);t&&t.on(r.BEGIN_CONTACT,this.onBeginContact,this)}radiansToAngle(t){return 180*t/Math.PI}angleToRadians(t){return t*Math.PI/180}getTargetAngle(t){let e=Math.atan2(this.target.position.y-this.node.position.y,this.target.position.x-this.node.position.x),i=this.radiansToAngle(e)-90;return i<0&&(i+=360),i}vector_to_angle(t){let e=t.normalize().signAngle(new g(1,0));return-this.radiansToAngle(e)}angle_to_vector(t){var e=t*(Math.PI/180),i=Math.cos(e),n=Math.sin(e);return new g(i,n)}changeAngel(){let t=this.getTargetAngle(this.target);t-this.node.angle>0&&t-this.node.angle<180?this.node.angle+=3:t-this.node.angle>180&&t-this.node.angle<360&&(this.node.angle-=3)}bulletMove(){if("game_strong_bullet"==this.node.name)if(this.node.position.y<this.target.position.y){let t=new g(this.target.position.x-this.node.position.x,this.target.position.y-this.node.position.y),e=this.vector_to_angle(t);this.node.angle=e-90;let i=t.normalize(),n=i.x*(2*this.speed)+this.node.position.x,s=i.y*(2*this.speed)+this.node.position.y;this.node.setPosition(n,s),this.lastVector=t}else{let t=this.lastVector.normalize(),e=t.x*(2*this.speed)+this.node.position.x,i=t.y*(2*this.speed)+this.node.position.y;this.node.setPosition(e,i)}else if(this.isTarget){this.changeAngel();let t=this.angleToRadians(this.node.angle+90),e=Math.cos(t)*this.speed+this.node.position.x,i=Math.sin(t)*this.speed+this.node.position.y;this.node.setPosition(e,i)}else{let t=this.angleToRadians(this.node.angle+90),e=Math.cos(t)*this.speed+this.node.position.x,i=Math.sin(t)*this.speed+this.node.position.y;this.node.setPosition(e,i)}}destroyBullet(){this.node.position.y>400&&this.node.destroy()}onBeginContact(t,e,i){5==e.tag&&this.node.destroy()}update(t){this.target==l("Canvas/gameView/enemyPool").children[this.minY]&&l("Canvas/gameView/enemyPool").children.length>0?this.scheduleOnce((()=>{this.isTarget=!0}),.3):this.isTarget=!1,this.bulletMove(),this.destroyBullet()}}).prototype,"target",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=u))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/enemyController.ts",["cc","./gameView.ts"],(function(e){"use strict";var o,t,n,s,i,a,p,m,r,d,g,h,C;return{setters:[function(e){o=e.cclegacy,t=e.Component,n=e.find,s=e.Collider2D,i=e.Contact2DType,a=e.v3,p=e.Sprite,m=e.Color,r=e.resources,d=e.Prefab,g=e.instantiate,h=e._decorator},function(e){C=e.gameView}],execute:function(){var c;o._RF.push({},"fe195cm9AhCD5mTQwLzPqNg","enemyController",void 0);const{ccclass:l,property:y}=h;e("enu",l("enemyController")(c=class extends t{constructor(...e){super(...e),this.enemyHp=0,this.directionType=0,this.bulletDamage=50}start(){const e=Math.floor(3*Math.random())+1;this.directionType=e,this.enemyHp=n("Canvas/gameView").getComponent(C).getComponent(C).enemyHp;let o=this.getComponent(s);o&&o.on(i.BEGIN_CONTACT,this.onBeginContact,this)}enemyMove(){if("game_boss3"==this.node.name)this.node.position=a(this.node.position.x-n("Canvas/gameView").getComponent(C).getComponent(C).enemyMoveSpeed,this.node.position.y,this.node.position.z);else if("game_boss4"==this.node.name)this.node.position=a(this.node.position.x+n("Canvas/gameView").getComponent(C).getComponent(C).enemyMoveSpeed,this.node.position.y,this.node.position.z);else switch(this.directionType){case 1:this.node.position=a(this.node.position.x,this.node.position.y-n("Canvas/gameView").getComponent(C).getComponent(C).enemyMoveSpeed,this.node.position.z);break;case 2:this.node.position=a(this.node.position.x-n("Canvas/gameView").getComponent(C).getComponent(C).enemyMoveSpeed,this.node.position.y-n("Canvas/gameView").getComponent(C).getComponent(C).enemyMoveSpeed,this.node.position.z);break;case 3:this.node.position=a(this.node.position.x+n("Canvas/gameView").getComponent(C).getComponent(C).enemyMoveSpeed,this.node.position.y-n("Canvas/gameView").getComponent(C).getComponent(C).enemyMoveSpeed,this.node.position.z)}}destroyEnemy(){(this.node.position.y<-320||this.node.position.x>750||this.node.position.x<-750)&&this.node.destroy()}onBeginContact(e,o,t){if(2==o.tag){this.node.getComponent(p).color=m.RED,this.scheduleOnce((()=>{this.node.getComponent(p).color=m.WHITE}),.2),this.enemyHp-=this.bulletDamage;for(let e=0;e<10;e++)this.scheduleOnce((()=>{this.node.position=a(this.node.position.x,this.node.position.y+1,this.node.position.z)}),.01);this.enemyHp<=0&&(this.dropRewards(e.node.position),n("Canvas/gameView").getComponent(C).score+=n("Canvas/gameView").getComponent(C).getComponent(C).enemyDamage,this.node.destroy())}else 10==o.tag&&n("Canvas/gameView").getComponent(C).hp>0&&(n("Canvas/gameView").getComponent(C).hp-=n("Canvas/gameView").getComponent(C).getComponent(C).enemyDamage,console.log("hp-"+n("Canvas/gameView").getComponent(C).getComponent(C).enemyDamage),n("Canvas/gameView").getComponent(C).hp<=0&&(n("Canvas/gameView").getComponent(C).hp=0,n("Canvas/gameView").getComponent(C).isDead=!0,console.log("GAME OVER")),this.node.destroy())}dropRewards(e){switch(Math.floor(6*Math.random())+1){case 1:r.load("prefabs/game_heart",d,((o,t)=>{if(o)return void console.error("Failed to load prefab:",o);const s=g(t);s.setParent(n("Canvas/gameView/rewardsPool")),s.setPosition(e.x,e.y)}));break;case 2:r.load("prefabs/game_star_",d,((o,t)=>{if(o)return void console.error("Failed to load prefab:",o);const s=g(t);s.setParent(n("Canvas/gameView/rewardsPool")),s.setPosition(e.x,e.y)}));break;case 3:r.load("prefabs/game_star_",d,((o,t)=>{if(o)return void console.error("Failed to load prefab:",o);const s=g(t);s.setParent(n("Canvas/gameView/rewardsPool")),s.setPosition(e.x,e.y)}))}}difficultyAdjustment(){switch(n("Canvas/gameView").getComponent(C).stageLevel){case 1:this.enemyHp=100;break;case 2:case 3:this.enemyHp=150;break;case 4:this.enemyHp=200;break;case 5:this.enemyHp=250}}update(e){this.enemyMove(),this.destroyEnemy()}})||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/failView.ts",["cc","./gameView.ts"],(function(e){"use strict";var t,i,a,o,n,s,c;return{setters:[function(e){t=e.cclegacy,i=e.Component,a=e.sys,o=e.native,n=e.Label,s=e._decorator},function(e){c=e.gameView}],execute:function(){var r;t._RF.push({},"97beciiaNxIZabCK5mukM0C","failView",void 0);const{ccclass:l,property:d}=s;e("failView",l("failView")(r=class extends i{start(){}AdShow(){if(console.info("AdShow"),a.os==a.OS.ANDROID){o.reflection.callStaticMethod("com.cocos.lib.SDKLog","admobView","()V")}}backToMenu(){this.node.active=!1,this.node.parent.getChildByName("gameView").getComponent(c).stageLevel=1,this.node.parent.getChildByName("gameView").getComponent(c).isRefresh=!0,this.node.parent.getChildByName("startView").active=!0}replay(){this.AdShow(),this.node.active=!1,this.node.parent.getChildByName("gameView").getComponent(c).isRefresh=!0,this.node.parent.getChildByName("gameView").active=!0}update(e){let t=this.node.parent.getChildByName("gameView").getComponent(c).score;this.node.getChildByName("fail_scoreLabel").getComponent(n).string=String(t)}})||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/gameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playerController.ts"],(function(e){"use strict";var t,o,s,i,l,n,a,r,h,d,g,u,m,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){s=e.cclegacy,i=e.Prefab,l=e.Label,n=e._decorator,a=e.Component,r=e.Node,h=e.input,d=e.Input,g=e.resources,u=e.instantiate,m=e.KeyCode,p=e.find},function(e){c=e.playerController}],execute:function(){var y,b,f,C,v,B,P,N,w,S,_,L,D,E,x;s._RF.push({},"ae73eQLNKNOxI18QoB1xDwP","gameView",void 0);const{ccclass:F,property:M}=n;e("gameView",(y=F("gameView"),b=M(i),f=M(l),C=M(l),v=M(l),B=M(l),P=M(l),y((S=t((w=class extends a{constructor(...e){super(...e),o(this,"bulletPrefab",S,this),o(this,"hpLabel",_,this),o(this,"scoreLabel",L,this),o(this,"weaponLabel",D,this),o(this,"strongBulletLabel",E,this),o(this,"stageLabel",x,this),this.hp=0,this.score=0,this.weaponLevel=0,this.stageLevel=1,this.everyStageEnemtNum=0,this.weaponLevelCharge=0,this.strongBulletNum=0,this.bulletGenerateSpeed=0,this.enemyGenerateSpeed=0,this.enemyHp=0,this.enemyDamage=0,this.enemyMoveSpeed=0,this.isDead=null,this.isContinue=null,this.isChangeSpeed=null,this.isRefresh=null,this.canAttack=null}start(){switch(console.log(),0==this.stageLabel.node.active&&(this.stageLabel.node.active=!0),this.stageLabel.string="Stage "+this.stageLevel,this.scheduleOnce((()=>{this.stageLabel.node.active=!1}),2),this.node.getChildByName("StrongBulletBtn").on(r.EventType.TOUCH_START,this.gnerateStrongBullet,this),h.on(d.EventType.KEY_DOWN,this.onKeyDown,this),this.node.getChildByName("game_player").setPosition(-70,-120),this.node.getChildByName("bulletPool").children&&this.node.getChildByName("bulletPool").removeAllChildren(),this.node.getChildByName("enemyPool").children&&this.node.getChildByName("enemyPool").removeAllChildren(),this.node.getChildByName("rewardsPool").children&&this.node.getChildByName("rewardsPool").removeAllChildren(),this.stageLevel){case 1:console.log("stageLevel1"),this.hp=100,this.isDead=!1,this.isContinue=!1,this.score=0,this.isChangeSpeed=!0,this.isRefresh=!1,this.everyStageEnemtNum=30,this.weaponLevel=1,this.weaponLevelCharge=0,this.strongBulletNum=0,this.enemyHp=100,this.enemyGenerateSpeed=1.5,this.enemyDamage=5,this.enemyMoveSpeed=1;break;case 2:console.log("stageLevel2"),this.hp=100,this.isDead=!1,this.isContinue=!1,this.score=0,this.isChangeSpeed=!0,this.isRefresh=!1,this.everyStageEnemtNum=60,this.weaponLevel=1,this.weaponLevelCharge=55,this.strongBulletNum=1,this.enemyHp=150,this.enemyGenerateSpeed=1.2,this.enemyDamage=10,this.enemyMoveSpeed=1;break;case 3:console.log("stageLevel3"),this.hp=100,this.isDead=!1,this.isContinue=!1,this.score=0,this.isChangeSpeed=!0,this.isRefresh=!1,this.everyStageEnemtNum=60,this.weaponLevel=2,this.weaponLevelCharge=55,this.strongBulletNum=1,this.enemyHp=200,this.enemyGenerateSpeed=.8,this.enemyDamage=15,this.enemyMoveSpeed=1.5;break;case 4:console.log("stageLevel4"),this.hp=100,this.isDead=!1,this.isContinue=!1,this.score=0,this.isChangeSpeed=!0,this.isRefresh=!1,this.everyStageEnemtNum=90,this.weaponLevel=4,this.weaponLevelCharge=0,this.strongBulletNum=1,this.enemyHp=200,this.enemyGenerateSpeed=.6,this.enemyDamage=20,this.enemyMoveSpeed=2;break;case 5:console.log("stageLevel5"),this.hp=100,this.isDead=!1,this.isContinue=!1,this.score=0,this.isChangeSpeed=!0,this.isRefresh=!1,this.everyStageEnemtNum=160,this.weaponLevel=5,this.weaponLevelCharge=0,this.strongBulletNum=1,this.enemyHp=250,this.enemyGenerateSpeed=.4,this.enemyDamage=25,this.enemyMoveSpeed=2.5}this.schedule(this.strongBulletPlus,20),console.log("================gameViewwwwwwwwwwStart================="),console.log("hp:"+this.hp),console.log("score:"+this.score),console.log("weaponLevel:"+this.weaponLevel),console.log("weaponLevelCharge:"+this.weaponLevelCharge),console.log("everyStageEnemtNum:   "+this.everyStageEnemtNum),console.log("StarCharge:"+this.node.getChildByName("game_player").getComponent(c).StarCharge),console.log("bulletGenerateSpeed: "+this.bulletGenerateSpeed),console.log("enemyGenerateSpeed: "+this.enemyGenerateSpeed),console.log("enemyHp:"+this.enemyHp),console.log("enemyMoveSpeed:"+this.enemyMoveSpeed),console.log("enemyDamage:"+this.enemyDamage),console.log("================gameViewwwwwwwwwwStart==================")}generateBullet(){switch(this.weaponLevel){case 1:g.load("prefabs/game_bullet",i,((e,t)=>{if(e)return void console.error("Failed to load prefab:",e);const o=u(t);o.setParent(this.node.getChildByName("bulletPool"));const s=this.node.getChildByName("game_player");o.setPosition(s.position.x,s.position.y)}));break;case 2:case 3:g.load("prefabs/game_bullet_2_1",i,((e,t)=>{if(e)return void console.error("Failed to load prefab:",e);const o=u(t);o.setParent(this.node.getChildByName("bulletPool"));const s=this.node.getChildByName("game_player");o.setPosition(s.position.x+20,s.position.y)})),g.load("prefabs/game_bullet_2_2",i,((e,t)=>{if(e)return void console.error("Failed to load prefab:",e);const o=u(t);o.setParent(this.node.getChildByName("bulletPool"));const s=this.node.getChildByName("game_player");o.setPosition(s.position.x-20,s.position.y)}));break;case 4:g.load("prefabs/game_bullet_3_1",i,((e,t)=>{if(e)return void console.error("Failed to load prefab:",e);const o=u(t);o.setParent(this.node.getChildByName("bulletPool"));const s=this.node.getChildByName("game_player");o.setPosition(s.position.x,s.position.y)})),g.load("prefabs/game_bullet_3_1",i,((e,t)=>{if(e)return void console.error("Failed to load prefab:",e);const o=u(t);o.setParent(this.node.getChildByName("bulletPool"));const s=this.node.getChildByName("game_player");o.setPosition(s.position.x,s.position.y)})),g.load("prefabs/game_bullet_3_2",i,((e,t)=>{if(e)return void console.error("Failed to load prefab:",e);const o=u(t);o.setParent(this.node.getChildByName("bulletPool"));const s=this.node.getChildByName("game_player");o.setPosition(s.position.x,s.position.y)})),g.load("prefabs/game_bullet_3_3",i,((e,t)=>{if(e)return void console.error("Failed to load prefab:",e);const o=u(t);o.setParent(this.node.getChildByName("bulletPool"));const s=this.node.getChildByName("game_player");o.setPosition(s.position.x,s.position.y)}));break;case 5:case 6:g.load("prefabs/game_bullet_5_1",i,((e,t)=>{if(e)return void console.error("Failed to load prefab:",e);const o=u(t);o.setParent(this.node.getChildByName("bulletPool"));const s=this.node.getChildByName("game_player");o.setPosition(s.position.x,s.position.y)})),g.load("prefabs/game_bullet_5_1",i,((e,t)=>{if(e)return void console.error("Failed to load prefab:",e);const o=u(t);o.setParent(this.node.getChildByName("bulletPool"));const s=this.node.getChildByName("game_player");o.setPosition(s.position.x,s.position.y)})),g.load("prefabs/game_bullet_5_2",i,((e,t)=>{if(e)return void console.error("Failed to load prefab:",e);const o=u(t);o.setParent(this.node.getChildByName("bulletPool"));const s=this.node.getChildByName("game_player");o.setPosition(s.position.x,s.position.y)})),g.load("prefabs/game_bullet_5_3",i,((e,t)=>{if(e)return void console.error("Failed to load prefab:",e);const o=u(t);o.setParent(this.node.getChildByName("bulletPool"));const s=this.node.getChildByName("game_player");o.setPosition(s.position.x,s.position.y)})),g.load("prefabs/game_bullet_5_4",i,((e,t)=>{if(e)return void console.error("Failed to load prefab:",e);const o=u(t);o.setParent(this.node.getChildByName("bulletPool"));const s=this.node.getChildByName("game_player");o.setPosition(s.position.x,s.position.y)})),g.load("prefabs/game_bullet_5_5",i,((e,t)=>{if(e)return void console.error("Failed to load prefab:",e);const o=u(t);o.setParent(this.node.getChildByName("bulletPool"));const s=this.node.getChildByName("game_player");o.setPosition(s.position.x,s.position.y)}))}}strongBulletPlus(){this.strongBulletNum<3&&(this.strongBulletNum+=1)}gnerateStrongBullet(){if(this.strongBulletNum>0){console.log("StrongBulletttttt!!!");for(let e=0;e<55;e++)g.load("prefabs/game_strong_bullet",i,((t,o)=>{if(t)return void console.error("Failed to load prefab:",t);const s=u(o);s.setParent(this.node.getChildByName("bulletPool")),s.setPosition(28*e-770,-330)}));this.strongBulletNum-=1}console.log("NO StrongBullet")}onKeyDown(e){switch(e.keyCode){case m.SPACE:this.gnerateStrongBullet()}}gnerateEnemy(){if(this.canAttack=!0,this.everyStageEnemtNum>0){let e=Math.floor(6*Math.random())+1;e>4&&(e=1),g.load("prefabs/game_boss"+e,i,((t,o)=>{if(t)console.error("Failed to load prefab:",t);else if(3==e){const e=u(o);e.setParent(this.node.getChildByName("enemyPool"));const t=-80,s=180,i=Math.floor(Math.random()*(s-t+1))+t;e.setPosition(750,i)}else if(4==e){const e=u(o);e.setParent(this.node.getChildByName("enemyPool"));const t=-80,s=180,i=Math.floor(Math.random()*(s-t+1))+t;e.setPosition(-750,i)}else{const e=u(o);e.setParent(this.node.getChildByName("enemyPool"));const t=-600,s=600,i=Math.floor(Math.random()*(s-t+1))+t;e.setPosition(i,320)}})),this.everyStageEnemtNum-=1,console.log("enemyLeft:"+this.everyStageEnemtNum)}this.everyStageEnemtNum<=0&&0==this.node.getChildByName("enemyPool").children.length&&(this.isContinue=!0,console.log("stage over"))}update(e){if(this.isRefresh&&this.start(),this.hpLabel.string=String(this.hp),this.scoreLabel.string=String(this.score),this.weaponLabel.string=String(this.weaponLevel),this.strongBulletLabel.string=String(this.strongBulletNum),0==p("Canvas/gameView/enemyPool").children.length&&(this.canAttack=!1),this.isDead)this.unschedule(this.strongBulletPlus),this.unschedule(this.generateBullet),this.unschedule(this.gnerateEnemy),this.node.active=!1,this.node.parent.getChildByName("failView").active=!0;else if(this.isChangeSpeed){switch(this.weaponLevel){case 1:case 2:this.bulletGenerateSpeed=.5;break;case 3:case 4:case 5:this.bulletGenerateSpeed=.3;break;case 6:this.bulletGenerateSpeed=.15}this.schedule(this.generateBullet,this.bulletGenerateSpeed),this.schedule(this.gnerateEnemy,this.enemyGenerateSpeed),this.isChangeSpeed=!this.isChangeSpeed}this.isContinue&&(this.unschedule(this.strongBulletPlus),this.unschedule(this.generateBullet),this.unschedule(this.gnerateEnemy),this.node.active=!1,this.node.parent.getChildByName("victoryView").active=!0)}}).prototype,"bulletPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(w.prototype,"hpLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(w.prototype,"scoreLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(w.prototype,"weaponLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(w.prototype,"strongBulletLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(w.prototype,"stageLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=w))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/groundController.ts",["cc"],(function(e){"use strict";var n,t,o,a,s,r,i,g;return{setters:[function(e){n=e.cclegacy,t=e.Component,o=e.Collider2D,a=e.Contact2DType,s=e.find,r=e.Sprite,i=e.Color,g=e._decorator}],execute:function(){var c;n._RF.push({},"65d33HjobJAa7xCznZKNtaH","groundController",void 0);const{ccclass:l,property:C}=g;e("groundController",l("groundController")(c=class extends t{start(){let e=this.getComponent(o);e&&e.on(a.BEGIN_CONTACT,this.onBeginContact,this)}onBeginContact(e,n,t){if(5==n.tag){s("Canvas/gameView/game_player").getComponent(r).color=new i(170,170,170);const e=s("Canvas/gameView/game_kuang").position;s("Canvas/gameView/game_kuang").setPosition(e.x-10,e.y),this.scheduleOnce((()=>{s("Canvas/gameView/game_kuang").setPosition(e.x+20,e.y),this.scheduleOnce((()=>{s("Canvas/gameView/game_kuang").setPosition(e.x-10,e.y),s("Canvas/gameView/game_player").getComponent(r).color=i.WHITE}),.1)}),.1)}}update(e){}})||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./bulletController.ts","./enemyController.ts","./failView.ts","./gameView.ts","./groundController.ts","./mainController.ts","./playerController.ts","./rewardsController.ts","./victoryView.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/mainController.ts",["cc"],(function(e){"use strict";var t,i,a;return{setters:[function(e){t=e.cclegacy,i=e.Component,a=e._decorator}],execute:function(){var o;t._RF.push({},"e14d7NLhh1MRI+MG/NALCLL","mainController",void 0);const{ccclass:n,property:r}=a;e("mainController",n("mainController")(o=class extends i{start(){this.node.getChildByName("gameView").active=!1,this.node.getChildByName("failView").active=!1,this.node.getChildByName("victoryView").active=!1,this.node.getChildByName("startView").active=!0}update(e){}startGame(){console.info("startGame"),this.node.getChildByName("gameView").active=!0,this.node.getChildByName("startView").active=!1}})||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/playerController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameView.ts"],(function(e){"use strict";var t,n,o,a,s,i,r,g,p,l,C,h,c,m,v,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){o=e.cclegacy,a=e.Node,s=e._decorator,i=e.Component,r=e.Collider2D,g=e.Contact2DType,p=e.UITransform,l=e.v3,C=e.Vec2,h=e.v2,c=e.Sprite,m=e.Color,v=e.find},function(e){d=e.gameView}],execute:function(){var w,u,y,V,T;o._RF.push({},"924d7yRgeRCgax/yUOL73Y5","playerController",void 0);const{ccclass:L,property:S}=s;e("playerController",(w=L("playerController"),u=S(a),w((T=t((V=class extends i{constructor(...e){super(...e),n(this,"target",T,this),this.StarCharge=0}start(){this.node.parent.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.parent.on(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.parent.on(a.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.parent.on(a.EventType.MOUSE_MOVE,this.onMouseMove,this);let e=this.getComponent(r);e&&e.on(g.BEGIN_CONTACT,this.onBeginContact,this)}onMouseEnter(e){let t=this.node.parent.getComponent(p).convertToNodeSpaceAR(l(e.getUILocation().x,e.getUILocation().y));this.node.setPosition(t.x,t.y)}onMouseMove(e){let t=this.node.parent.getComponent(p).convertToNodeSpaceAR(l(e.getUILocation().x,e.getUILocation().y));this.node.setPosition(t.x,t.y)}onTouchStart(e){let t=this.node.parent.getComponent(p).convertToNodeSpaceAR(l(e.getUILocation().x,e.getUILocation().y));this.node.setPosition(t.x,t.y)}onTouchMove(e){let t=this.node.parent.getComponent(p).convertToNodeSpaceAR(l(e.getUILocation().x,e.getUILocation().y));this.node.setPosition(t.x,t.y)}radiansToAngle(e){return e*(180/Math.PI)}angleToRadians(e){return e*(Math.PI/180)}vector_to_angle(e){let t=e.normalize().signAngle(new C(1,0));return-this.radiansToAngle(t)}angle_To_vector(e){let t=this.angleToRadians(e);return h(Math.cos(t),Math.sin(t))}changeAngel(e){let t=this.node.angle;return e>this.node.angle?t+=2:e<this.node.angle&&(t-=2),console.log(t),t}onBeginContact(e,t,n){if(5==t.tag&&(this.node.getComponent(c).color=m.RED,this.scheduleOnce((()=>{this.node.getComponent(c).color=m.WHITE}),.2),v("Canvas/gameView").getComponent(d).hp>0&&(v("Canvas/gameView").getComponent(d).hp-=v("Canvas/gameView").getComponent(d).enemyDamage,console.log("hp-"+v("Canvas/gameView").getComponent(d).enemyDamage),v("Canvas/gameView").getComponent(d).hp<=0&&(v("Canvas/gameView").getComponent(d).hp=0,v("Canvas/gameView").getComponent(d).isDead=!0,console.log("GAME OVER"))),t.node.destroy()),3==t.tag){if(v("Canvas/gameView").getComponent(d).weaponLevelCharge<255)if(v("Canvas/gameView").getComponent(d).weaponLevelCharge+=this.StarCharge,console.log("++++"+this.StarCharge),v("Canvas/gameView").getComponent(d).weaponLevelCharge>=255){if(v("Canvas/gameView").getComponent(d).weaponLevel<6){v("Canvas/gameView").getComponent(d).weaponLevel+=1,console.log("weaponLevel up"),v("Canvas/gameView").getComponent(d).isChangeSpeed=!0,v("Canvas/gameView").getComponent(d).weaponLevelCharge=0;let e=new m(255,255,255,v("Canvas/gameView").getComponent(d).weaponLevelCharge);v("Canvas/gameView/game_star").getComponent(c).color=e}}else{let e=new m(255,255,255,v("Canvas/gameView").getComponent(d).weaponLevelCharge);v("Canvas/gameView/game_star").getComponent(c).color=e,console.log("weaponCharge:"+v("Canvas/gameView").getComponent(d).weaponLevelCharge)}t.node.destroy()}4==t.tag&&(v("Canvas/gameView").getComponent(d).hp<=93?v("Canvas/gameView").getComponent(d).hp+=7:v("Canvas/gameView").getComponent(d).hp=100,t.node.destroy())}difficultyAdjustment(){switch(v("Canvas/gameView").getComponent(d).weaponLevel){case 1:this.StarCharge=51;break;case 2:this.StarCharge=40;break;case 3:this.StarCharge=25.5;break;case 4:this.StarCharge=15;break;case 5:this.StarCharge=10}}update(e){this.difficultyAdjustment()}}).prototype,"target",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=V))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/rewardsController.ts",["cc"],(function(o){"use strict";var r,t,e,s;return{setters:[function(o){r=o.cclegacy,t=o.Component,e=o.v3,s=o._decorator}],execute:function(){var n;r._RF.push({},"d0b50GAoRNB1ZHn3apdaZPm","rewardsController",void 0);const{ccclass:i,property:d}=s;o("rewardsController",i("rewardsController")(n=class extends t{start(){}rewardMove(){this.node.position=e(this.node.position.x,this.node.position.y-3,this.node.position.z)}rewardDestroy(){this.node.position.y<-400&&this.node.destroy()}update(o){this.rewardMove(),this.rewardDestroy()}})||n);r._RF.pop()}}}));

System.register("chunks:///_virtual/victoryView.ts",["cc","./gameView.ts"],(function(e){"use strict";var t,i,n,a,o;return{setters:[function(e){t=e.cclegacy,i=e.Component,n=e.Label,a=e._decorator},function(e){o=e.gameView}],execute:function(){var s;t._RF.push({},"f0642QedhBM+4K71qmAtzGC","victoryView",void 0);const{ccclass:r,property:c}=a;e("victoryView",r("victoryView")(s=class extends i{start(){}backToMenu(){this.node.active=!1,this.node.parent.getChildByName("gameView").getComponent(o).stageLevel=1,this.node.parent.getChildByName("gameView").getComponent(o).isRefresh=!0,this.node.parent.getChildByName("startView").active=!0}replay(){this.node.active=!1,this.node.parent.getChildByName("gameView").getComponent(o).isRefresh=!0,this.node.parent.getChildByName("gameView").active=!0}continue(){this.node.active=!1,this.node.parent.getChildByName("gameView").getComponent(o).stageLevel+=1,this.node.parent.getChildByName("gameView").getComponent(o).isRefresh=!0,this.node.parent.getChildByName("gameView").active=!0}update(e){this.node.parent.getChildByName("gameView").getComponent(o).stageLevel>=5?this.node.getChildByName("victory_continue").active=!1:this.node.getChildByName("victory_continue").active=!0;let t=this.node.parent.getChildByName("gameView").getComponent(o).score;this.node.getChildByName("victory_scoreLabel").getComponent(n).string=String(t)}})||s);t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});