System.register("chunks:///_virtual/controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./data.ts"],(function(t){"use strict";var s,i,h,e,n,o,u,r,g,a,l,p,y;return{setters:[function(t){s=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){h=t.cclegacy,e=t.Node,n=t.ProgressBar,o=t._decorator,u=t.Component,r=t.sys,g=t.Label,a=t.Sprite,l=t.color,p=t.Input},function(t){y=t.data}],execute:function(){var c,d,f,z,x,k,S,v,b,T,m,C,P;h._RF.push({},"f962bg/kQxLzKZInPlBPztq","controller",void 0);const{ccclass:A,property:D}=o,I="huarongData";t("controller",(c=A("controller"),d=D({type:e}),f=D({type:y}),z=D({type:e}),x=D({type:e}),k=D({type:n}),c((b=s((v=class extends u{constructor(...t){super(...t),i(this,"lev",b,this),i(this,"dt",T,this),i(this,"stepnum",m,this),i(this,"huazong",C,this),i(this,"prog",P,this),this.px=[[-226,0,226],[-226,0,226],[-226,0,226]],this.py=[[226,226,226],[0,0,0],[-226,-226,-226]],this.shuzu=[[0,0,0],[0,0,0],[0,0,0]],this.guanka=1,this.step=0,this.pro=0,this.stepzong=[],this.kaiguan=!1,this.heng=null,this.shu=null,this.changex=0,this.changey=0,this.yidong1=null,this.yidong2=null,this.dongzuo=[[0,0,0],[0,0,0],[0,0,0]],this.x1=0,this.x2=0,this.y1=0,this.y2=0,this.fxx=0,this.fxy=0,this.hua=[1,1,1],this.ydkai=!1,this.speed=20,this.s=0}saveUserData(){const t={levelopen:this.guanka,levzong:[-1,-1,-1,-1,-1,-1,-1,-1]},s=JSON.stringify(t);r.localStorage.setItem(I,s)}loadUserData(){const t=r.localStorage.getItem(I);return JSON.parse(t)}start(){}onEnable(){this.pro=this.dt.gkStepZong[this.guanka-1],this.stepzong=[],this.fuzhi2(),this.prog.progress=1,this.step=0,this.s=0,this.stepnum.getComponent(g).string=String(this.step),this.yidong1=null,this.yidong2=null,this.shuzu=[[0,0,0],[0,0,0],[0,0,0]],this.hua=[1,1,1],this.huazong.children[0].getComponent(a).color=l(255,255,255,255),this.huazong.children[1].getComponent(a).color=l(255,255,255,255),this.huazong.children[2].getComponent(a).color=l(255,255,255,255),this.huazong.children[0].setPosition(422-this.dt.guankaStep[this.guanka-1][2]/this.dt.gkStepZong[this.guanka-1]*422-211,0),this.huazong.children[1].setPosition(422-this.dt.guankaStep[this.guanka-1][1]/this.dt.gkStepZong[this.guanka-1]*422-211,0),this.huazong.children[2].setPosition(422-this.dt.guankaStep[this.guanka-1][0]/this.dt.gkStepZong[this.guanka-1]*422-211,0),this.fuzhi(),this.WeizhiSet(),this.AllDongZuo()}fuzhi2(){for(let t=0;t<3;t++)this.stepzong[t]=this.dt.guankaStep[this.guanka-1][t]}fuzhi(){for(let t=0;t<3;t++)for(let s=0;s<3;s++)this.shuzu[t][s]=this.dt.zong[this.guanka-1][t][s]}AllDongZuo(){this.jiancha()?this.kaiguan=!0:(this.onSearchId(),this.closeAll(),this.ChangeClick())}getHua(){return this.hua}setHua(){this.hua=[1,1,1]}getGuanka(){return this.guanka}setGuanka(t){this.guanka=t}getKaiguan(){return this.kaiguan}setKaiguan(t){this.kaiguan=t}getStep(){return this.step}setStep(t){this.step=t}jiancha(){let t=1;for(let s=0;s<3;s++)for(let i=0;i<3;i++){if(this.shuzu[s][i]!==t){if(9===t)break;return!1}t+=1}return!0}WeizhiSet(){for(let t=0;t<3;t++)for(let s=0;s<3;s++)-1!=this.shuzu[t][s]&&this.lev.children[this.shuzu[t][s]-1].setPosition(this.px[t][s],this.py[t][s])}ChangeId(){if(this.heng===this.changex){if(this.shu>this.changey)for(let t=this.shu;t>this.changey;t--)this.shuzu[this.heng][t]=this.shuzu[this.heng][t-1];else for(let t=this.shu;t<this.changey;t++)this.shuzu[this.heng][t]=this.shuzu[this.heng][t+1];this.shuzu[this.changex][this.changey]=-1}else{if(this.heng>this.changex)for(let t=this.heng;t>this.changex;t--)this.shuzu[t][this.shu]=this.shuzu[t-1][this.shu];else for(let t=this.heng;t<this.changex;t++)this.shuzu[t][this.shu]=this.shuzu[t+1][this.shu];this.shuzu[this.changex][this.changey]=-1}}onSearchId(){for(let t=0;t<3;t++)for(let s=0;s<3;s++)if(-1===this.shuzu[t][s]){this.heng=t,this.shu=s;break}}closeAll(){for(let t=0;t<8;t++)this.lev.children[t].off(p.EventType.TOUCH_START)}ChangeClick(){for(let t=0;t<3;t++)for(let s=0;s<3;s++)t===this.heng&&s!=this.shu?this.dongzuo[t][s]=this.shu-s:s===this.shu&&t!=this.heng?this.dongzuo[t][s]=this.heng-t:this.dongzuo[t][s]=0;for(let t=0;t<3;t++)for(let s=0;s<3;s++)0===this.dongzuo[t][s]?this.lev.children[this.shuzu[t][s]-1]&&-1!=this.shuzu[t][s]&&this.lev.children[this.shuzu[t][s]-1].off(p.EventType.TOUCH_START):this.dongzuo[t][s]>0?this.lev.children[this.shuzu[t][s]-1]&&this.lev.children[this.shuzu[t][s]-1].on(p.EventType.TOUCH_START,(function(i){if(this.step+=1,this.stepnum.getComponent(g).string=String(this.step),this.pro-this.step>=0){for(let t=0;t<3;t++)this.stepzong[t]<this.step&&(this.hua[t]=0,this.huazong.children[2-t].getComponent(a).color=l(255,255,255,150));this.prog.progress=(this.pro-this.step)/this.pro}else this.prog.progress=0;this.heng===t?(this.fxx=1,this.fxy=0,2===Math.abs(this.dongzuo[t][s])?(this.yidong1=this.shuzu[t][s],this.yidong2=this.shuzu[t][s+1],this.x1=this.px[t][s],this.y1=this.py[t][s],this.x2=this.px[t][s+1],this.y2=this.py[t][s+1]):(this.yidong1=this.shuzu[t][s],this.yidong2=0,this.x1=this.px[t][s],this.y1=this.py[t][s])):this.shu===s&&(this.fxx=0,this.fxy=-1,2===Math.abs(this.dongzuo[t][s])?(this.yidong1=this.shuzu[t][s],this.yidong2=this.shuzu[t+1][s],this.x1=this.px[t][s],this.y1=this.py[t][s],this.x2=this.px[t+1][s],this.y2=this.py[t+1][s]):(this.yidong1=this.shuzu[t][s],this.yidong2=0,this.x1=this.px[t][s],this.y1=this.py[t][s])),this.changex=t,this.changey=s,this.TouchStart(i),this.ChangeId()}),this):this.lev.children[this.shuzu[t][s]-1]&&this.lev.children[this.shuzu[t][s]-1].on(p.EventType.TOUCH_START,(function(i){if(this.step+=1,console.log(this.guanka),this.stepnum.getComponent(g).string=String(this.step),this.pro-this.step>=0){for(let t=0;t<3;t++)this.stepzong[t]<this.step&&(this.hua[t]=0,this.huazong.children[2-t].getComponent(a).color=l(255,255,255,150));this.prog.progress=(this.pro-this.step)/this.pro}else this.prog.progress=0;this.heng===t?(this.fxx=-1,this.fxy=0,2===Math.abs(this.dongzuo[t][s])?(this.yidong1=this.shuzu[t][s],this.yidong2=this.shuzu[t][s-1],this.x1=this.px[t][s],this.y1=this.py[t][s],this.x2=this.px[t][s-1],this.y2=this.py[t][s-1]):(this.yidong1=this.shuzu[t][s],this.yidong2=0,this.x1=this.px[t][s],this.y1=this.py[t][s])):(this.fxx=0,this.fxy=1,2===Math.abs(this.dongzuo[t][s])?(this.yidong1=this.shuzu[t][s],this.yidong2=this.shuzu[t-1][s],this.x1=this.px[t][s],this.y1=this.py[t][s],this.x2=this.px[t-1][s],this.y2=this.py[t-1][s]):(this.yidong1=this.shuzu[t][s],this.yidong2=0,this.x1=this.px[t][s],this.y1=this.py[t][s])),this.changex=t,this.changey=s,this.TouchStart(i),this.ChangeId()}),this)}TouchStart(t){for(let t=0;t<3;t++)for(let s=0;s<3;s++)-1!=this.shuzu[t][s]&&this.lev.children[this.shuzu[t][s]-1].off(p.EventType.TOUCH_START);this.ydkai=!0}update(t){if(this.ydkai)if(0!=this.yidong2)if(this.s+=this.speed,this.s>=226){this.s=226;let t=this.x1+this.s*this.fxx,s=this.y1+this.s*this.fxy;this.lev.children[this.yidong1-1].setPosition(t,s),this.lev.children[this.yidong2-1].setPosition(this.x2+this.s*this.fxx,this.y2+this.s*this.fxy),this.s=0,this.ydkai=!1,this.dongzuo=[[0,0,0],[0,0,0],[0,0,0]],this.AllDongZuo()}else{let t=this.x1+this.s*this.fxx,s=this.y1+this.s*this.fxy;this.lev.children[this.yidong1-1].setPosition(t,s),this.lev.children[this.yidong2-1].setPosition(this.x2+this.s*this.fxx,this.y2+this.s*this.fxy)}else this.s+=this.speed,this.s>=226?(this.s=226,this.lev.children[this.yidong1-1].setPosition(this.x1+this.s*this.fxx,this.y1+this.s*this.fxy),this.s=0,this.ydkai=!1,this.dongzuo=[[0,0,0],[0,0,0],[0,0,0]],this.AllDongZuo()):this.lev.children[this.yidong1-1].setPosition(this.x1+this.s*this.fxx,this.y1+this.s*this.fxy)}}).prototype,"lev",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=s(v.prototype,"dt",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=s(v.prototype,"stepnum",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=s(v.prototype,"huazong",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=s(v.prototype,"prog",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=v))||S));h._RF.pop()}}}));

System.register("chunks:///_virtual/data.ts",["cc"],(function(e){"use strict";var t,s,l;return{setters:[function(e){t=e.cclegacy,s=e.Component,l=e._decorator}],execute:function(){var i;t._RF.push({},"01c74IeCUFJCqLX1ZnJwNTY","data",void 0);const{ccclass:h,property:c}=l;e("data",h("data")(i=class extends s{constructor(...e){super(...e),this.level1=[[1,2,3],[4,8,5],[7,-1,6]],this.level2=[[1,3,6],[4,2,-1],[7,5,8]],this.level3=[[4,1,2],[7,5,3],[-1,8,6]],this.level4=[[1,2,-1],[5,6,3],[4,7,8]],this.level5=[[4,1,-1],[2,6,3],[7,5,8]],this.level6=[[2,3,5],[1,4,6],[-1,7,8]],this.level7=[[5,1,2],[6,3,-1],[4,7,8]],this.level8=[[4,3,5],[2,8,1],[-1,7,6]],this.zong=[this.level1,this.level2,this.level3,this.level4,this.level5,this.level6,this.level7,this.level8],this.guankaStep=[[3,7,12],[5,9,14],[6,10,15],[6,10,15],[8,12,17],[10,14,19],[11,15,20],[12,16,21]],this.gkStepZong=[15,19,21,21,25,29,31,33]}start(){}update(e){}})||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./controller.ts","./data.ts","./manager.ts"],(function(){"use strict";return{setters:[null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./controller.ts"],(function(t){"use strict";var e,i,n,a,s,l,r,o,c,h,u,g,d,p,v,m,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.Node,s=t.Prefab,l=t._decorator,r=t.Component,o=t.sys,c=t.Label,h=t.Sprite,u=t.color,g=t.Input,d=t.resources,p=t.ImageAsset,v=t.SpriteFrame,m=t.instantiate},function(t){b=t.controller}],execute:function(){var S,f,y,G,k,_,I,C,z,D,N,E,T,w,L,U,x,P,A,F,B,Y,R,H,J;n._RF.push({},"d315eJ2YwpI+Z+ShXvNy3KT","manager",void 0);const{ccclass:K,property:O}=l,W="huarongData";var M;!function(t){t[t.GS_INIT=0]="GS_INIT",t[t.GS_SELECT=1]="GS_SELECT",t[t.GS_PLAYING=2]="GS_PLAYING",t[t.GS_END=3]="GS_END"}(M||(M={}));t("manager",(S=K("manager"),f=O({type:a}),y=O({type:s}),G=O({type:a}),k=O({type:a}),_=O({type:a}),I=O({type:a}),C=O({type:b}),z=O({type:a}),D=O({type:a}),N=O({type:a}),E=O({type:a}),S((L=e((w=class extends r{constructor(...t){super(...t),i(this,"next",L,this),i(this,"guankanum",U,this),i(this,"play",x,this),i(this,"begin",P,this),i(this,"select",A,this),i(this,"game",F,this),i(this,"control",B,this),i(this,"lev",Y,this),i(this,"end",R,this),i(this,"his0",H,this),i(this,"benci",J,this),this.temp=1,this.temp2=[-1,-1,-1,-1,-1,-1,-1,-1],this.data0=null,this.guanka=0,this.best=null,this.x=[-180,0,180],this.y=[460,250,40]}saveUserData(){const t={levelopen:this.temp,levzong:this.temp2},e=JSON.stringify(t);o.localStorage.setItem(W,e)}loadUserData(){const t=o.localStorage.getItem(W);return JSON.parse(t)}loading(){let t=this.loadUserData();t||(this.saveUserData(),t=this.loadUserData()),this.temp=t.levelopen,this.temp2=t.levzong,this.guanka=t.levelopen,this.best=t.levzong}onLoad(){}start(){this.loading(),this.data0=this.loadUserData(),this.init()}backToBegin(){this.curState=M.GS_INIT}selectcontrol(){this.select.children[2].removeAllChildren();for(let t=0;t<8;t++)this.ctGuanka(t)}ctGuanka(t){let e=this.addBlock(),i=this.data0.levelopen;if(e){e.children[0].getComponent(c).string=String(t+1);let n=t%3,a=Math.floor(t/3);e.name=String(t+1),t+1>i?e.getComponent(h).color=u(255,255,255,100):e.on(g.EventType.TOUCH_START,(function(i){this.guanka=Number(e.name),this.control.setGuanka(t+1);let n="texture/game/关卡数字/"+String(this.guanka);d.load(n,p,((t,e)=>{this.game.children[1].children[1].getComponent(h).spriteFrame=v.createWithImage(e)})),this.curState=M.GS_PLAYING}),this),e.setPosition(this.x[n],this.y[a]),this.select.children[2].addChild(e)}}addBlock(){let t=null;return t=m(this.guankanum),t||null}NextClick(){let t=this.control.getGuanka();if(t>=8)t=0,this.control.setGuanka(t+1),this.curState=M.GS_SELECT;else{this.lev.active=!1,this.control.node.active=!1,this.control.setGuanka(t+1);let e="texture/game/关卡数字/"+String(t+1);d.load(e,p,((t,e)=>{this.game.children[1].children[1].getComponent(h).spriteFrame=v.createWithImage(e)})),this.control.node.active=!0,this.end.active=!1,this.lev.active=!0}}gameBack(){this.end.active||(this.curState=M.GS_SELECT)}begingame(){this.curState=M.GS_SELECT}init(){this.begin&&(this.begin.active=!0),this.select&&(this.select.active=!1),this.game&&(this.game.active=!1),this.control&&(this.control.node.active=!1),this.end&&(this.end.active=!1)}inselect(){this.begin&&(this.begin.active=!1),this.select&&(this.select.active=!0,this.selectcontrol()),this.game&&(this.game.active=!1),this.control&&(this.control.node.active=!1),this.end&&(this.end.active=!1)}ingame(){this.begin&&(this.begin.active=!1),this.select&&(this.select.active=!1),this.game&&(this.game.active=!0),this.control&&(this.control.node.active=!0),this.end&&(this.end.active=!1)}inend(){this.begin&&(this.begin.active=!1),this.select&&(this.select.active=!1),this.control&&(this.control.node.active=!0),this.end&&(this.end.active=!0)}set curState(t){switch(t){case M.GS_INIT:this.init();break;case M.GS_SELECT:this.inselect();break;case M.GS_PLAYING:this.ingame();break;case M.GS_END:this.inend()}}ingameRetry(){if(!this.end.active){let t=this.control.getGuanka();t>8&&(t=0),this.lev.active=!1,this.control.node.active=!1,this.control.node.active=!0,this.lev.active=!0}}regameClick(){let t=this.control.getGuanka();t>8&&(t=0),this.lev.active=!1,this.control.node.active=!1,this.control.setGuanka(t),this.control.node.active=!0,this.end.active=!1,this.lev.active=!0}update(t){if(this.control.getKaiguan()){this.control.setKaiguan(!1);let t=this.control.getStep();this.data0.levelopen===this.control.getGuanka()&&this.data0.levelopen<8&&(this.temp=this.data0.levelopen+1);let e=this.control.getGuanka();-1!=this.data0.levzong[e-1]?this.data0.levzong[e-1]>t&&(this.temp2[e-1]=t,this.saveUserData()):(this.temp2[e-1]=t,this.saveUserData()),this.control.getGuanka()>this.data0.levelopen&&this.saveUserData(),this.data0=this.loadUserData(),this.his0.children[1].getComponent(c).string=String(this.data0.levzong[e-1]),this.benci.children[1].getComponent(c).string=String(t);let i="texture/game/关卡数字/"+String(e);d.load(i,p,((t,e)=>{this.end.children[1].children[2].children[1].getComponent(h).spriteFrame=v.createWithImage(e)}));let n=this.control.getHua();for(let t=0;t<3;t++)0===n[t]?this.end.children[1].children[1].children[t].active=!1:this.end.children[1].children[1].children[t].active=!0;this.end.active=!0,this.control.node.active=!1}}}).prototype,"next",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(w.prototype,"guankanum",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(w.prototype,"play",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(w.prototype,"begin",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(w.prototype,"select",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(w.prototype,"game",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(w.prototype,"control",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(w.prototype,"lev",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(w.prototype,"end",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(w.prototype,"his0",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(w.prototype,"benci",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=w))||T));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});