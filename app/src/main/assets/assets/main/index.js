System.register("chunks:///_virtual/fishController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./mainView.ts"],(function(i){"use strict";var e,t,s,n,h,a,r,o,d,l,c;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.initializerDefineProperty},function(i){s=i.cclegacy,n=i.SpriteFrame,h=i._decorator,a=i.Component,r=i.Collider2D,o=i.Contact2DType,d=i.Sprite,l=i.find},function(i){c=i.mainView}],execute:function(){var m,p,g,u,C;s._RF.push({},"c2ee31DqKZM5KUsTaj+HcvR","fishController",void 0);const{ccclass:f,property:V}=h;i("fishController",(m=f("fishController"),p=V(n),m((C=e((u=class extends a{constructor(...i){super(...i),t(this,"demandSpriteFrame",C,this),this.initProgressBarValue=59,this.winConditionValue=60,this.hungry=59,this.strong=59,this.air=59,this.speed=59,this.happy=59,this.clean=59,this.health=59,this.tired=59,this.dt=0,this.isMove=!1,this.isGameEnd=!1}start(){this.initProgressBar();let i=this.node.getComponent(r);i&&i.on(o.BEGIN_CONTACT,this.fishBeginContact,this)}update(i){if(!this.isGameEnd&&this.hungry>0&&this.strong>0&&this.air>0&&this.speed>0&&this.happy>0&&this.clean>0&&this.health>0&&this.tired>0&&(this.dt+=1,420==this.dt)){if(this.dt=0,this.hungry-=1,this.strong-=1,this.air-=1,this.speed-=1,this.happy-=1,this.clean-=1,this.health-=1,this.tired-=1,0==this.isMove?this.fishDemand():this.node.children[0].active=!1,this.hungry<=0||this.strong<=0||this.air<=0||this.speed<=0||this.happy<=0||this.clean<=0||this.health<=0||this.tired<=0){this.node.getComponent(d).grayscale=!0,this.node.setScale(1,-1),this.node.children[0].active=!1;let i=l("Canvas/gameManager/mainView").getComponent(c);i.isFishFail=!0,i.failTips.active=!0,this.isGameEnd=!0}if(this.hungry>=this.winConditionValue&&this.strong>=this.winConditionValue&&this.air>=this.winConditionValue&&this.speed>=this.winConditionValue&&this.happy>=this.winConditionValue&&this.clean>=this.winConditionValue&&this.health>=this.winConditionValue&&this.tired>=this.winConditionValue){console.log(this.node.name);let i=l("Canvas/gameManager/mainView").getComponent(c);switch(this.node.name){case"fish1":i.isFish1Win=!0;break;case"fish2":i.isFish2Win=!0;break;case"fish3":i.isFish3Win=!0;break;case"fish4":i.isFish4Win=!0;break;case"fish5":i.isFish5Win=!0;break;default:console.log("出错了")}}else{let i=l("Canvas/gameManager/mainView").getComponent(c);switch(this.node.name){case"fish1":i.isFish1Win=!1;break;case"fish2":i.isFish2Win=!1;break;case"fish3":i.isFish3Win=!1;break;case"fish4":i.isFish4Win=!1;break;case"fish5":i.isFish5Win=!1;break;default:console.log("出错了")}}}}initProgressBar(){this.hungry=this.initProgressBarValue,this.strong=this.initProgressBarValue,this.air=this.initProgressBarValue,this.speed=this.initProgressBarValue,this.happy=this.initProgressBarValue,this.clean=this.initProgressBarValue,this.health=this.initProgressBarValue,this.tired=this.initProgressBarValue}fishDemand(){this.hungry<this.winConditionValue?(this.node.children[0].active=!0,this.node.children[0].children[0].getComponent(d).spriteFrame=this.demandSpriteFrame[0],this.node.children[0].children[0].setScale(1,1,0)):this.strong<this.winConditionValue?(this.node.children[0].active=!0,this.node.children[0].children[0].getComponent(d).spriteFrame=this.demandSpriteFrame[1],this.node.children[0].children[0].setScale(.3,.3,0)):this.air<this.winConditionValue?(this.node.children[0].active=!0,this.node.children[0].children[0].getComponent(d).spriteFrame=this.demandSpriteFrame[2],this.node.children[0].children[0].setScale(.3,.3,0)):this.speed<this.winConditionValue?(this.node.children[0].active=!0,this.node.children[0].children[0].getComponent(d).spriteFrame=this.demandSpriteFrame[3],this.node.children[0].children[0].setScale(.3,.3,0)):this.happy<this.winConditionValue?(this.node.children[0].active=!0,this.node.children[0].children[0].getComponent(d).spriteFrame=this.demandSpriteFrame[4],this.node.children[0].children[0].setScale(.5,.5,0)):this.clean<this.winConditionValue?(this.node.children[0].active=!0,this.node.children[0].children[0].getComponent(d).spriteFrame=this.demandSpriteFrame[5],this.node.children[0].children[0].setScale(.3,.3,0)):this.health<this.winConditionValue?(this.node.children[0].active=!0,this.node.children[0].children[0].getComponent(d).spriteFrame=this.demandSpriteFrame[6],this.node.children[0].children[0].setScale(1,1,0)):this.tired<this.winConditionValue?(this.node.children[0].active=!0,this.node.children[0].children[0].getComponent(d).spriteFrame=this.demandSpriteFrame[7],this.node.children[0].children[0].setScale(.3,.3,0)):this.node.children[0].active=!1}fishBeginContact(i,e){if(i.node.name==this.node.name&&"food"==e.node.name){this.hungry=this.hungry<50?this.hungry+50:100;let i=l("Canvas/gameManager/mainView").getComponent(c);i.hungry=i.hungry<50?i.hungry+50:100,this.fishDemand(),i.showProgressBar(),setTimeout((()=>{try{var i,t;1==(null==(i=e.node)?void 0:i.isValid)&&(null==(t=e.node)||t.destroy())}catch(i){}}),1)}if(i.node.name==this.node.name&&"medicine"==e.node.name){this.health=this.health<50?this.health+50:100;let i=l("Canvas/gameManager/mainView").getComponent(c);i.health=i.health<50?i.health+50:100,this.fishDemand(),i.showProgressBar(),setTimeout((()=>{var i,t;1==(null==(i=e.node)?void 0:i.isValid)&&(null==(t=e.node)||t.destroy())}),1)}}}).prototype,"demandSpriteFrame",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=u))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/gameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,t,n,o,h,r,l,d,a;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,o=e.Prefab,h=e._decorator,r=e.Component,l=e.instantiate,d=e.view,a=e.UITransform}],execute:function(){var s,c,g,m,p;n._RF.push({},"dec82vt0sVBR5UeJWhqdwrw","gameManager",void 0);const{ccclass:w,property:C}=h;e("gameManager",(s=w("gameManager"),c=C(o),s((p=i((m=class extends r{constructor(...e){super(...e),t(this,"scenePrefab",p,this),this.loginView=null,this.mainView=null}onLoad(){this.loginView=l(this.scenePrefab[0]),this.mainView=l(this.scenePrefab[1]),this.node.addChild(this.loginView),this.node.addChild(this.mainView),this.ScreenAdaptation(),this.mainView.active=!1}start(){}update(e){}ScreenAdaptation(){let e=d.getVisibleSize().width,i=d.getVisibleSize().height,t=this.loginView.children[0],n=this.mainView.children[0],o=this.mainView.children[1].children[4],h=this.mainView.children[1].children[3].children[0],r=this.mainView.children[1].children[1].getChildByName("winTips"),l=this.mainView.children[1].children[1].getChildByName("failTips");t.getComponent(a).width=e,t.getComponent(a).height=i,n.getComponent(a).width=e,n.getComponent(a).height=i,o.getComponent(a).width=e,o.getComponent(a).height=i,r.children[0].getComponent(a).width=e,r.children[0].getComponent(a).height=i,l.children[0].getComponent(a).width=e,l.children[0].getComponent(a).height=i,h.getComponent(a).width=e,h.getComponent(a).width=i;let s=this.mainView.children[1].children[0],c=this.mainView.children[1].children[1].getChildByName("airBlock"),g=this.mainView.children[1].children[1].getChildByName("tiredBlock"),m=this.mainView.children[1].children[1].getChildByName("cleanBlock"),p=this.mainView.children[1].children[2];s.setWorldPosition(e/2,i-s.getComponent(a).height/2-40,0),c.setWorldPosition(c.getComponent(a).width/2,c.getComponent(a).height/2,0),g.setWorldPosition(g.worldPosition.x,g.getComponent(a).height/2,0),m.setWorldPosition(m.worldPosition.x,m.getComponent(a).height/2,0),p.setWorldPosition(p.worldPosition.x,p.getComponent(a).height/2,0);let w=this.mainView.children[1].children[1].getChildByName("moveArea"),C=this.mainView.children[1].children[1].getChildByName("feedArea");w.getComponent(a).width=e,w.getComponent(a).height=4*i/5,C.getComponent(a).width=e,C.getComponent(a).height=4*i/5}}).prototype,"scenePrefab",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=m))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/groundCollider.ts",["cc","./mainView.ts"],(function(e){"use strict";var n,t,o,i,s,r,l,a,c,d,u;return{setters:[function(e){n=e.cclegacy,t=e.Component,o=e.Collider2D,i=e.Contact2DType,s=e.RigidBody2D,r=e.find,l=e.view,a=e.tween,c=e.Vec3,d=e._decorator},function(e){u=e.mainView}],execute:function(){var h;n._RF.push({},"5deaatcGiVGnI+1cBEultYf","groundCollider",void 0);const{ccclass:p,property:g}=d;e("groundCollider",p("groundCollider")(h=class extends t{constructor(...e){super(...e),this.tweenFunc=null,this.distanceList=[],this.fishNoList=[]}start(){let e=this.node.getComponent(o);e&&e.on(i.BEGIN_CONTACT,this.onBeginContact,this)}update(e){}onBeginContact(e,n){e.node.name!=this.node.name||"food"!=n.node.name&&"medicine"!=n.node.name||(n.node.getComponent(s).gravityScale=0,n.node.getComponent(s).linearDamping=1,1==n.node.getComponent(s).isAwake()&&setTimeout((()=>{let e=r("Canvas/gameManager/mainView").getComponent(u);for(let i=0;i<e.fishGroup.children.length;i++)if(0!=e.fishGroup.children[i].active){console.log("自动寻路中");try{var t;if(null!=(t=n.node)&&t.isValid){let t=n.node.getWorldPosition(),o=e.fishGroup.children[i].worldPosition,r=Math.sqrt(Math.pow(t.x-o.x,2)+Math.pow(t.y-o.y,2));if(!(r<200))continue;{let n=r/100,o=1;o=t.y>l.getVisibleSize().height/2?.7:1,this.tweenFunc=a(e.fishGroup.children[i]).to(n,{scale:new c(o,o,1),worldPosition:t}).call((()=>{e.fishGroup.children[i].getComponent(s).wakeUp()})).start()}if(null!=this.tweenFunc)break}else{var o;null==(o=this.tweenFunc)||o.stop()}}catch(e){}}}),1e3))}})||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/loginView.ts",["cc","./mainView.ts"],(function(i){"use strict";var e,n,t,a,s;return{setters:[function(i){e=i.cclegacy,n=i.Component,t=i.find,a=i._decorator},function(i){s=i.mainView}],execute:function(){var o;e._RF.push({},"81baarw9NxN/JpshExTUIea","loginView",void 0);const{ccclass:c,property:r}=a;i("loginView",c("loginView")(o=class extends n{constructor(...i){super(...i),this.mainView=null}start(){this.mainView=t("Canvas/gameManager/mainView")}update(i){}playBTN(){this.mainView.active=!0,this.mainView.getComponent(s).initLevel(),this.mainView.getComponent(s).initView(),this.mainView.getComponent(s).currentLevel=1,this.mainView.getComponent(s).gameTipsFunc(),this.mainView.getComponent(s).initWinTips(),this.node.active=!1}})||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./fishController.ts","./gameManager.ts","./groundCollider.ts","./loginView.ts","./mainView.ts"],(function(){"use strict";return{setters:[null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/mainView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fishController.ts"],(function(i){"use strict";var e,t,s,o,n,h,r,a,l,c,p,d,g,m,u,B,f,y,C,v,F,T,w,b,x,P,k,A,S,M;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.initializerDefineProperty},function(i){s=i.cclegacy,o=i.Node,n=i.SpriteFrame,h=i.Prefab,r=i._decorator,a=i.Component,l=i.Vec3,c=i.find,p=i.CameraComponent,d=i.UITransformComponent,g=i.Sprite,m=i.Button,u=i.AudioSource,B=i.director,f=i.native,y=i.Input,C=i.ProgressBar,v=i.Color,F=i.UITransform,T=i.view,w=i.tween,b=i.RigidBody2D,x=i.instantiate,P=i.PolygonCollider2D,k=i.Vec2,A=i.Intersection2D,S=i.Animation},function(i){M=i.fishController}],execute:function(){var N,L,E,W,G,V,D,z,H,O,R,U,_,I,j,q,J,K,Q,X,Y,Z,$,ii,ei,ti,si,oi,ni,hi,ri,ai,li,ci,pi,di,gi,mi,ui,Bi,fi,yi,Ci,vi,Fi;s._RF.push({},"678d4R7TadJNbvw5b2L24dO","mainView",void 0);const{ccclass:Ti,property:wi}=r;i("mainView",(N=Ti("mainView"),L=wi(o),E=wi(o),W=wi(o),G=wi(o),V=wi(o),D=wi(o),z=wi(o),H=wi(o),O=wi(o),R=wi(o),U=wi(o),_=wi(o),I=wi(o),j=wi(o),q=wi(n),J=wi(h),K=wi(n),Q=wi(o),X=wi(n),Y=wi(o),N((ii=e(($=class extends a{constructor(...i){super(...i),t(this,"fishGroup",ii,this),t(this,"feedGroup",ei,this),t(this,"pointer",ti,this),t(this,"currentLevel",si,this),t(this,"maxLevel",oi,this),t(this,"gameBox",ni,this),t(this,"menuBox",hi,this),t(this,"moveArea",ri,this),t(this,"feedArea",ai,this),t(this,"progressBarBox",li,this),t(this,"foodBtn",ci,this),t(this,"medicineBtn",pi,this),t(this,"winTips",di,this),t(this,"failTips",gi,this),t(this,"Loading",mi,this),t(this,"feeding",ui,this),t(this,"feedingSpriteFrame",Bi,this),t(this,"feedingPrefabGroup",fi,this),t(this,"soundSpriteFrame",yi,this),t(this,"soundBtn",Ci,this),t(this,"introductSpriteFrame",vi,this),t(this,"gameTips",Fi,this),this.camera=null,this.canvas=null,this.targetFish=null,this.preTargetFish=null,this.targetPoint=new l(0,0,0),this.fishSpeed=120,this.dt=0,this.dt2=0,this.tweenFunc=null,this.initProgressBarValue=59,this.hungry=59,this.strong=59,this.air=59,this.speed=59,this.happy=59,this.clean=59,this.health=59,this.tired=59,this.fishTime=0,this.winConditionValue=60,this.isMove=!1,this.isFeedFood=!1,this.isFeedMedicine=!1,this.isFish1Win=!1,this.isFish2Win=!1,this.isFish3Win=!1,this.isFish4Win=!1,this.isFish5Win=!1,this.isFishFail=!1,this.isGameEnd=!1,this.isOpenSound=!0,this.isChoose=!1,this.isPress=!1,this.introductNum=1}onLoad(){this.loadView(),this.camera=c("Canvas/Camera").getComponent(p),this.canvas=c("Canvas").getComponent(d)}start(){this.initLevel(),this.initAllBlock(),this.initMoveArea(),this.initFeedArea()}update(i){if(!this.isGameEnd&&this.hungry>0&&this.strong>0&&this.air>0&&this.speed>0&&this.happy>0&&this.clean>0&&this.health>0&&this.tired>0){if(this.judgeWin(),this.dt+=1,this.dt2+=1,50==this.dt2){this.dt2=0;let i=this.gameBox.getChildByName("speedBlock");this.gameBox.getChildByName("speedBlock").setScale(-i.scale.x,1)}420==this.dt&&(this.dt=0,this.hungry-=1,this.strong-=1,this.air-=1,this.speed-=1,this.happy-=1,this.clean-=1,this.health-=1,this.tired-=1,this.showProgressBar(),this.judgeFail(),this.judgeWin())}}loadView(){this.Loading.active=!0,this.initProgressBar(),setTimeout((()=>{this.Loading.active=!1}),5e3)}judgeWin(){let i=!1;switch(this.currentLevel){case 1:this.isFish1Win&&(i=!0);break;case 2:this.isFish1Win&&this.isFish2Win&&(i=!0);break;case 3:this.isFish1Win&&this.isFish2Win&&this.isFish3Win&&(i=!0);break;case 4:this.isFish1Win&&this.isFish2Win&&this.isFish3Win&&this.isFish4Win&&(i=!0);break;case 5:this.isFish1Win&&this.isFish2Win&&this.isFish3Win&&this.isFish4Win&&this.isFish5Win&&(i=!0);break;default:console.log("出错了")}if(i){for(let i=0;i<this.currentLevel;i++)this.fishGroup.children[i].getComponent(M).isGameEnd=!0;return this.winTips.active=!0,void(this.isGameEnd=!0)}}judgeFail(){if(this.isFishFail)return this.tweenFunc.stop(),this.failTips.active=!0,void(this.isGameEnd=!0)}foodBTN(){this.isPress||(this.isPress=!0,this.isFeedFood=!this.isFeedFood,this.isFeedMedicine=!1,1==this.isFeedFood?(this.moveArea.active=!1,this.feedArea.active=!0,this.medicineBtn.setScale(1,1),this.foodBtn.setScale(1,1),this.medicineBtn.getComponent(g).grayscale=!1,this.foodBtn.getComponent(g).grayscale=!0,this.isPress=!1):(this.moveArea.active=!0,this.feedArea.active=!1,this.medicineBtn.setScale(1,1),this.foodBtn.setScale(1,1),this.medicineBtn.getComponent(g).grayscale=!1,this.foodBtn.getComponent(g).grayscale=!1,this.isPress=!1))}medicineBTN(){this.isPress||(this.isPress=!0,this.isFeedMedicine=!this.isFeedMedicine,this.isFeedFood=!1,this.isFeedMedicine?(this.moveArea.active=!1,this.feedArea.active=!0,this.medicineBtn.setScale(1,1),this.foodBtn.setScale(1,1),this.medicineBtn.getComponent(g).grayscale=!0,this.foodBtn.getComponent(g).grayscale=!1,this.isPress=!1):(this.moveArea.active=!0,this.feedArea.active=!1,this.medicineBtn.setScale(1,1),this.foodBtn.setScale(1,1),this.medicineBtn.getComponent(g).grayscale=!1,this.foodBtn.getComponent(g).grayscale=!1,this.isPress=!1))}nextLevelBTN(){this.currentLevel<this.maxLevel?(this.currentLevel+=1,console.log("下一关"),this.initView(),this.winTips.active=!1,this.Advertising(),this.loadView()):(this.winTips.children[2].children[0].active=!1,this.winTips.children[2].children[1].getComponent(m).enabled=!1,this.winTips.children[2].children[2].active=!0,this.winTips.children[2].children[3].active=!0)}againBTN(){this.initView(),this.failTips.active=!1,this.isFishFail=!1,this.Advertising(),this.loadView()}soundBTN(){this.isOpenSound=!this.isOpenSound,this.isOpenSound?(this.soundBtn.getComponent(g).spriteFrame=this.soundSpriteFrame[0],this.node.getComponent(u).play()):(this.soundBtn.getComponent(g).spriteFrame=this.soundSpriteFrame[1],this.node.getComponent(u).pause())}backBTN(){for(let i=1;i<this.fishGroup.children.length;i++)this.fishGroup.children[i].active=!1;this.currentLevel=1,this.loadView(),c("Canvas/gameManager/loginView").active=!0,this.winTips.active=!1,setTimeout((()=>{this.node.active=!1}),5e3)}closeBTN(){this.gameTips.active=!1,B.resume()}nextBTN(){this.introductNum<3?(this.gameTips.children[1].getComponent(g).spriteFrame=this.introductSpriteFrame[this.introductNum],this.introductNum+=1):(this.gameTips.active=!1,B.resume())}gameTipsFunc(){this.gameTips.active=!0,B.pause()}Advertising(){return f.reflection.callStaticMethod("com.cocos.lib.LandGameActivity","admobShow","()V")}initWinTips(){this.winTips.children[2].children[0].active=!0,this.winTips.children[2].children[1].getComponent(m).enabled=!0,this.winTips.children[2].children[2].active=!1,this.winTips.children[2].children[3].active=!1}initView(){console.log("初始化界面"),this.fishGroup.children[this.currentLevel-1].active=!0,this.initProgressBar(),this.initFeedGroup();let i=[-94,239,185,-130,-542],e=[-30,-30,-166,-242,-92];for(let t=0;t<this.currentLevel;t++){this.fishGroup.children[t].setPosition(i[t],e[t]),this.fishGroup.children[t].setScale(1,1),this.fishGroup.children[t].getComponent(g).grayscale=!1;let s=this.fishGroup.children[t].getComponent(M);s.initProgressBar(),s.isGameEnd=!1}this.isFish1Win=!1,this.isFish2Win=!1,this.isFish3Win=!1,this.isFish4Win=!1,this.isFish5Win=!1,this.isFishFail=!1,this.moveArea.active=!0,this.feedArea.active=!1,this.foodBtn.setScale(1,1),this.medicineBtn.setScale(1,1),this.foodBtn.getComponent(g).grayscale=!1,this.medicineBtn.getComponent(g).grayscale=!1,this.isFeedFood=!1,this.isFeedMedicine=!1,this.pointer.setPosition(0,0),this.isGameEnd=!1}initProgressBar(){this.hungry=this.initProgressBarValue,this.strong=this.initProgressBarValue,this.air=this.initProgressBarValue,this.speed=this.initProgressBarValue,this.happy=this.initProgressBarValue,this.clean=this.initProgressBarValue,this.health=this.initProgressBarValue,this.tired=this.initProgressBarValue}initFeedGroup(){for(let i=0;i<this.feedGroup.children.length;i++)this.feedGroup.children[i].destroy()}initMoveArea(){this.moveArea.active=!0,this.moveArea.on(y.EventType.TOUCH_START,this.pointerStartMove,this),this.moveArea.on(y.EventType.TOUCH_MOVE,this.pointerMove,this),this.moveArea.on(y.EventType.TOUCH_END,this.pointerEndMove,this),this.moveArea.on(y.EventType.TOUCH_CANCEL,this.pointerCancelMove,this)}initFeedArea(){this.feedArea.active=!1,this.feedArea.on(y.EventType.TOUCH_START,this.feedStartMove,this),this.feedArea.on(y.EventType.TOUCH_MOVE,this.feedMove,this),this.feedArea.on(y.EventType.TOUCH_END,this.feedEndMove,this),this.feedArea.on(y.EventType.TOUCH_CANCEL,this.feedCancelMove,this)}initAllBlock(){this.gameBox.getChildByName("strongBlock").on(y.EventType.TOUCH_START,this.touchStrongBlock,this),this.gameBox.getChildByName("airBlock").on(y.EventType.TOUCH_START,this.touchAirBlock,this),this.gameBox.getChildByName("speedBlock").on(y.EventType.TOUCH_START,this.touchSpeedBlock,this),this.gameBox.getChildByName("happyBlock").on(y.EventType.TOUCH_START,this.touchHappyBlock,this),this.gameBox.getChildByName("cleanBlock").on(y.EventType.TOUCH_START,this.touchCleanBlock,this),this.gameBox.getChildByName("tiredBlock").on(y.EventType.TOUCH_START,this.touchTiredBlock,this)}initLevel(){for(let i=0;i<this.fishGroup.children.length;i++)this.fishGroup.children[i].on(y.EventType.TOUCH_START,(()=>{this.targetFish=this.fishGroup.children[i],this.menuBox.getChildByName("fishIcon").children[0].getComponent(g).spriteFrame=this.targetFish.getComponent(g).spriteFrame,this.hungry=this.targetFish.getComponent(M).hungry,this.strong=this.targetFish.getComponent(M).strong,this.air=this.targetFish.getComponent(M).air,this.speed=this.targetFish.getComponent(M).speed,this.happy=this.targetFish.getComponent(M).happy,this.clean=this.targetFish.getComponent(M).clean,this.health=this.targetFish.getComponent(M).health,this.tired=this.targetFish.getComponent(M).tired,this.showProgressBar()}),this);this.targetFish=this.fishGroup.children[0],this.preTargetFish=this.fishGroup.children[0],this.menuBox.getChildByName("fishIcon").children[0].getComponent(g).spriteFrame=this.targetFish.getComponent(g).spriteFrame,this.gameBox.getChildByName("strongBlock")}showProgressBar(){this.progressBarBox.getChildByName("hungryBar").children[1].getComponent(C).progress=this.hungry/100,this.progressBarBox.getChildByName("strongBar").children[1].getComponent(C).progress=this.strong/100,this.progressBarBox.getChildByName("airBar").children[1].getComponent(C).progress=this.air/100,this.progressBarBox.getChildByName("speedBar").children[1].getComponent(C).progress=this.speed/100,this.progressBarBox.getChildByName("happyBar").children[1].getComponent(C).progress=this.happy/100,this.progressBarBox.getChildByName("cleanBar").children[1].getComponent(C).progress=this.clean/100,this.progressBarBox.getChildByName("healthBar").children[1].getComponent(C).progress=this.health/100,this.progressBarBox.getChildByName("tiredBar").children[1].getComponent(C).progress=this.tired/100,this.progressBarBox.getChildByName("hungryBar").children[1].children[0].getComponent(g).color=this.hungry>50?v.WHITE:v.RED,this.progressBarBox.getChildByName("strongBar").children[1].children[0].getComponent(g).color=this.strong>50?v.WHITE:v.RED,this.progressBarBox.getChildByName("airBar").children[1].children[0].getComponent(g).color=this.air>50?v.WHITE:v.RED,this.progressBarBox.getChildByName("speedBar").children[1].children[0].getComponent(g).color=this.speed>50?v.WHITE:v.RED,this.progressBarBox.getChildByName("happyBar").children[1].children[0].getComponent(g).color=this.happy>50?v.WHITE:v.RED,this.progressBarBox.getChildByName("cleanBar").children[1].children[0].getComponent(g).color=this.clean>50?v.WHITE:v.RED,this.progressBarBox.getChildByName("healthBar").children[1].children[0].getComponent(g).color=this.health>50?v.WHITE:v.RED,this.progressBarBox.getChildByName("tiredBar").children[1].children[0].getComponent(g).color=this.tired>50?v.WHITE:v.RED}pointerStartMove(i){let e=i.getLocation(),t=this.touchToLocationPoint(new l(e.x,e.y,0),this.camera,this.canvas);this.pointer.setPosition(t.x,t.y)}pointerMove(i){let e=i.getLocation();if(this.camera.screenToWorld(new l(e.x,e.y,0)).y<=this.moveArea.worldPosition.y+this.moveArea.getComponent(F).height/2){let i=this.touchToLocationPoint(new l(e.x,e.y,0),this.camera,this.canvas);this.pointer.setPosition(i.x,i.y)}}pointerEndMove(i){let e=i.getLocation();if(this.targetPoint=this.touchToLocationPoint(new l(e.x,e.y,0),this.camera,this.canvas),this.camera.screenToWorld(new l(e.x,e.y,0)).y>T.getVisibleSize().height/2)var t=.7;else t=1;let s=Math.sqrt(Math.pow(this.targetPoint.x-this.targetFish.position.x,2)+Math.pow(this.targetPoint.y-this.targetFish.position.y,2))/this.fishSpeed;s<2&&(s=2),this.fishTime=s,null!=this.tweenFunc&&(this.preTargetFish.getComponent(M).isMove=!1,this.tweenFunc.stop()),this.targetFish.getComponent(M).isMove=!0,this.tweenFunc=w(this.targetFish),this.preTargetFish=this.targetFish,this.targetFish.getComponent(b).wakeUp(),this.tweenFunc.to(s,{scale:new l(t,t,1),position:this.targetPoint}).call((()=>{this.targetFish.getComponent(M).isMove=!1,this.targetFish.getComponent(b).wakeUp()})).start()}pointerCancelMove(i){if(this.targetPoint=new l(this.pointer.position.x,this.pointer.position.y,0),this.camera.screenToWorld(new l(this.pointer.position.x,this.pointer.position.y,0)).y>T.getVisibleSize().height/2)var e=.7;else e=1;let t=Math.sqrt(Math.pow(this.targetPoint.x-this.targetFish.position.x,2)+Math.pow(this.targetPoint.y-this.targetFish.position.y,2))/this.fishSpeed;t<2&&(t=2),this.fishTime=t,null!=this.tweenFunc&&(this.preTargetFish.getComponent(M).isMove=!1,this.tweenFunc.stop()),this.targetFish.getComponent(M).isMove=!0,this.tweenFunc=w(this.targetFish),this.preTargetFish=this.targetFish,this.targetFish.getComponent(b).wakeUp(),this.tweenFunc.to(t,{scale:new l(e,e,1),position:this.targetPoint}).call((()=>{this.targetFish.getComponent(M).isMove=!1,this.targetFish.getComponent(b).wakeUp()})).start()}touchToLocationPoint(i,e,t){let s=e.screenToWorld(i);return t.convertToNodeSpaceAR(s)}feedStartMove(i){1==this.isFeedFood&&0==this.isFeedMedicine?this.feeding.getComponent(g).spriteFrame=this.feedingSpriteFrame[0]:0==this.isFeedFood&&1==this.isFeedMedicine&&(this.feeding.getComponent(g).spriteFrame=this.feedingSpriteFrame[1]),this.feeding.active=!0;let e=i.getLocation(),t=this.touchToLocationPoint(new l(e.x,e.y,0),this.camera,this.canvas);this.feeding.setPosition(t.x,t.y)}feedMove(i){let e=i.getLocation();if(this.camera.screenToWorld(new l(e.x,e.y,0)).y<=this.feedArea.worldPosition.y+this.feedArea.getComponent(F).height/2){let i=this.touchToLocationPoint(new l(e.x,e.y,0),this.camera,this.canvas);this.feeding.setPosition(i.x,i.y)}}feedEndMove(i){if(this.feeding.active=!1,this.feedGroup.children.length<10){let e=i.getLocation(),t=this.touchToLocationPoint(new l(e.x,e.y,0),this.camera,this.canvas),s=null;1==this.isFeedFood&&0==this.isFeedMedicine?s=x(this.feedingPrefabGroup[0]):0==this.isFeedFood&&1==this.isFeedMedicine&&(s=x(this.feedingPrefabGroup[1])),this.feedGroup.addChild(s),s.setPosition(t.x,t.y)}}feedCancelMove(i){this.feeding.active=!1}touchStrongBlock(i){if(!this.isChoose){this.isChoose=!0;let e=this.gameBox.getChildByName("strongBlock"),t=i.getLocation(),s=this.touchToLocationPoint(new l(t.x,t.y,0),this.camera,this.canvas),o=this.checkPolygonCollider2D(e,i),n="strongBlockAnim";this.showBlock(o,e,s,i,n)}}touchAirBlock(i){if(!this.isChoose){this.isChoose=!0;let e=this.gameBox.getChildByName("airBlock"),t=i.getLocation(),s=this.touchToLocationPoint(new l(t.x,t.y,0),this.camera,this.canvas),o=this.checkPolygonCollider2D(e,i),n="airBlockAnim";this.showBlock(o,e,s,i,n)}}touchSpeedBlock(i){if(!this.isChoose){this.isChoose=!0;let e=this.gameBox.getChildByName("speedBlock"),t=i.getLocation(),s=this.touchToLocationPoint(new l(t.x,t.y,0),this.camera,this.canvas),o=this.checkPolygonCollider2D(e,i),n="speedBlockAnim";this.showBlock(o,e,s,i,n)}}touchHappyBlock(i){if(!this.isChoose){this.isChoose=!0;let e=this.gameBox.getChildByName("happyBlock"),t=i.getLocation(),s=this.touchToLocationPoint(new l(t.x,t.y,0),this.camera,this.canvas),o=this.checkPolygonCollider2D(e,i),n="happyBlockAnim";this.showBlock(o,e,s,i,n)}}touchCleanBlock(i){if(!this.isChoose){this.isChoose=!0;let e=this.gameBox.getChildByName("cleanBlock"),t=i.getLocation(),s=this.touchToLocationPoint(new l(t.x,t.y,0),this.camera,this.canvas),o=this.checkPolygonCollider2D(e,i),n="cleanBlockAnim";this.showBlock(o,e,s,i,n)}}touchTiredBlock(i){if(!this.isChoose){this.isChoose=!0;let e=this.gameBox.getChildByName("tiredBlock"),t=i.getLocation(),s=this.touchToLocationPoint(new l(t.x,t.y,0),this.camera,this.canvas),o=this.checkPolygonCollider2D(e,i),n="tiredBlockAnim";this.showBlock(o,e,s,i,n)}}checkPolygonCollider2D(i,e){let t=i.getComponent(P).worldPoints,s=e.getLocation(),o=this.camera.screenToWorld(new l(s.x,s.y,0)),n=new k(o.x,o.y);return A.pointInPolygon(n,t)}showBlock(i,e,t,s,o){if(i){this.moveArea.active=!1,this.gameBox.getChildByName("BlockMask").active=!0,this.pointer.setPosition(t.x,t.y);let i=Math.sqrt(Math.pow(t.x-this.targetFish.position.x,2)+Math.pow(t.y-this.targetFish.position.y,2)),h=i/this.fishSpeed;i<=100&&(h=i/100);let r=s.getLocation();if(this.camera.screenToWorld(new l(r.x,r.y,0)).y>T.getVisibleSize().height/2)var n=.7;else n=1;this.targetFish.getComponent(b).wakeUp(),w(this.targetFish).to(h,{scale:new l(n,n,1),position:t}).call((()=>{var i=e.children[0];i.active=!0;let t=this.targetFish.getComponent(g).spriteFrame;i.getComponent(g).spriteFrame=t,this.targetFish.getComponent(g).color=new v(255,255,255,0),this.pointer.getComponent(g).color=new v(255,176,77,0);var s=i;2==e.children.length&&(e.children[1].active=!0,"happyBlock"!=e.name&&(s=e.children[1]));let n=s.getComponent(S);n.play(o),n.getState(o).on("finished",(()=>{i.active=!1,2==e.children.length&&(e.children[1].active=!1);let t=this.targetFish.getComponent(M);switch(e.name){case"strongBlock":t.strong=t.strong<50?t.strong+50:100,this.strong=this.strong<50?this.strong+50:100,this.showProgressBar(),t.fishDemand();break;case"airBlock":t.air=t.air<50?t.air+50:100,this.air=this.air<50?this.air+50:100,this.showProgressBar(),t.fishDemand();break;case"speedBlock":t.speed=t.speed<50?t.speed+50:100,this.speed=this.speed<50?this.speed+50:100,this.showProgressBar(),t.fishDemand();break;case"happyBlock":t.happy=t.happy<50?t.happy+50:100,this.happy=this.happy<50?this.happy+50:100,this.showProgressBar(),t.fishDemand();break;case"cleanBlock":t.clean=t.clean<50?t.clean+50:100,this.clean=this.clean<50?this.clean+50:100,this.showProgressBar(),t.fishDemand();break;case"tiredBlock":t.tired=t.tired<50?t.tired+50:100,this.tired=this.tired<50?this.tired+50:100,this.showProgressBar(),t.fishDemand()}this.targetFish.getComponent(g).color=new v(255,255,255,255),this.pointer.getComponent(g).color=new v(255,176,77,255),this.targetFish.setPosition(this.pointer.position.x,this.pointer.position.y);for(let i=0;i<5;i++){var s;1==(null==(s=this.fishGroup.children[i])?void 0:s.active)&&(this.fishGroup.children[i].getComponent(g).color=new v(255,255,255,255))}this.moveArea.active=!0,this.gameBox.getChildByName("BlockMask").active=!1,this.isChoose=!1}))})).start()}else this.isChoose=!1,this.isFeedFood||this.isFeedMedicine||(this.pointerStartMove(s),this.pointerMove(s),this.pointerEndMove(s))}}).prototype,"fishGroup",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ei=e($.prototype,"feedGroup",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ti=e($.prototype,"pointer",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),si=e($.prototype,"currentLevel",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),oi=e($.prototype,"maxLevel",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),ni=e($.prototype,"gameBox",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hi=e($.prototype,"menuBox",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ri=e($.prototype,"moveArea",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ai=e($.prototype,"feedArea",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),li=e($.prototype,"progressBarBox",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ci=e($.prototype,"foodBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pi=e($.prototype,"medicineBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),di=e($.prototype,"winTips",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gi=e($.prototype,"failTips",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mi=e($.prototype,"Loading",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ui=e($.prototype,"feeding",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bi=e($.prototype,"feedingSpriteFrame",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fi=e($.prototype,"feedingPrefabGroup",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yi=e($.prototype,"soundSpriteFrame",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ci=e($.prototype,"soundBtn",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vi=e($.prototype,"introductSpriteFrame",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fi=e($.prototype,"gameTips",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=$))||Z));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});