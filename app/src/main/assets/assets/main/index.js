System.register("chunks:///_virtual/fishController.ts",["cc","./mainView.ts"],(function(i){"use strict";var e,t,n,o,r,d,l,a,s;return{setters:[function(i){e=i.cclegacy,t=i.Component,n=i.Collider2D,o=i.Contact2DType,r=i.RigidBody2D,d=i.find,l=i.Vec2,a=i._decorator},function(i){s=i.mainView}],execute:function(){var y;e._RF.push({},"d0dc60DfLpPz5i2JqhnzjUW","fishController",void 0);const{ccclass:c,property:h}=a;i("fishController",c("fishController")(y=class extends t{constructor(...i){super(...i),this.rigidBody=null,this.mainView=null}start(){let i=this.node.getComponent(n);i&&i.on(o.BEGIN_CONTACT,this.fishBeginContact,this),this.rigidBody=this.node.getComponent(r),this.mainView=d("Canvas/gameManager/mainView")}update(i){}fishBeginContact(i,e){if(i.node==this.node)"leftWall"==e.node.name?this.rigidBody.linearVelocity=new l(Math.abs(this.rigidBody.linearVelocity.x),this.rigidBody.linearVelocity.y):"rightWall"==e.node.name?this.rigidBody.linearVelocity=new l(-Math.abs(this.rigidBody.linearVelocity.x),this.rigidBody.linearVelocity.y):"upWall"==e.node.name?this.rigidBody.linearVelocity=new l(this.rigidBody.linearVelocity.x,-Math.abs(this.rigidBody.linearVelocity.y)):"downWall"==e.node.name?this.rigidBody.linearVelocity=new l(this.rigidBody.linearVelocity.x,Math.abs(this.rigidBody.linearVelocity.y)):"barrier"==e.node.name?this.rigidBody.linearVelocity=new l(-this.rigidBody.linearVelocity.x,-this.rigidBody.linearVelocity.y):"barrier2"==e.node.name?(e.node.getComponent(r).linearVelocity=new l(this.rigidBody.linearVelocity.x,this.rigidBody.linearVelocity.y),this.rigidBody.linearVelocity=new l(-this.rigidBody.linearVelocity.x,-this.rigidBody.linearVelocity.y)):"barrier3"==e.node.name?(this.rigidBody.linearVelocity=new l(-this.rigidBody.linearVelocity.x,-this.rigidBody.linearVelocity.y),setTimeout((()=>{e.node.active=!1}),1)):"barrier4"==e.node.name?(this.rigidBody.linearVelocity=new l(10*-this.rigidBody.linearVelocity.x,10*-this.rigidBody.linearVelocity.y),setTimeout((()=>{e.node.active=!1}),1)):"barrier5"==e.node.name?(this.rigidBody.linearVelocity=new l(0,0),setTimeout((()=>{e.node.active=!1}),1)):"barrier"!=e.node.name&&e.node!=this.node&&e.node.name==this.node.name&&(this.mainView.getComponent(s).judgeIsPush(this.node),this.node.children[1].active=!0);else if(e.node==this.node){i.node!=this.node&&(i.node.name,this.node.name);let e=i.node.getComponent(r);this.rigidBody.linearVelocity=new l(e.linearVelocity.x,e.linearVelocity.y)}}})||y);e._RF.pop()}}}));

System.register("chunks:///_virtual/gameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./mainView.ts"],(function(e){"use strict";var i,t,n,o,h,l,s,a,r,d,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,o=e.Prefab,h=e._decorator,l=e.Component,s=e.instantiate,a=e.view,r=e.UITransform,d=e.BoxCollider2D},function(e){g=e.mainView}],execute:function(){var c,m,p,w,C;n._RF.push({},"7ef17lvJ7FI5b7QiukMYBhf","gameManager",void 0);const{ccclass:u,property:V}=h;e("gameManager",(c=u("gameManager"),m=V(o),c((C=i((w=class extends l{constructor(...e){super(...e),t(this,"scenePrefabGroup",C,this),this.loginView=null,this.selectView=null,this.mainView=null}onLoad(){this.createScene()}start(){this.ScreenAdaptation(),this.loginView.active=!0,this.selectView.active=!1,this.mainView.active=!1}update(e){}createScene(){this.loginView=s(this.scenePrefabGroup[0]),this.selectView=s(this.scenePrefabGroup[1]),this.mainView=s(this.scenePrefabGroup[2]),this.node.addChild(this.loginView),this.node.addChild(this.selectView),this.node.addChild(this.mainView)}ScreenAdaptation(){let e=a.getVisibleSize().width,i=a.getVisibleSize().height,t=this.loginView.children[0],n=this.selectView.children[0],o=this.mainView.children[0],h=this.mainView.children[1].getChildByName("loading").children[0],l=this.mainView.children[1].getChildByName("winTips"),s=this.mainView.children[1].getChildByName("failTips");t.getComponent(r).width=e,t.getComponent(r).height=i,n.getComponent(r).width=e,n.getComponent(r).height=i,o.getComponent(r).width=e,o.getComponent(r).height=i,h.getComponent(r).width=e,h.getComponent(r).height=i,l.getComponent(r).width=e,l.getComponent(r).height=i,s.getComponent(r).width=e,s.getComponent(r).height=i;let c=this.mainView.children[1].getChildByName("menuBox");c.setWorldPosition(c.getComponent(r).width/2,i-c.getComponent(r).height/2,0);let m=this.mainView.getComponent(g).Mask;m.getComponent(r).width=e,m.getComponent(r).height=i;let p=this.mainView.children[1].children[1].children[1].getChildByName("upWall"),w=this.mainView.children[1].children[1].children[1].getChildByName("downWall"),C=this.mainView.children[1].children[1].children[1].getChildByName("leftWall"),u=this.mainView.children[1].children[1].children[1].getChildByName("rightWall");p.getComponent(r).width=e,w.getComponent(r).width=e,C.getComponent(r).height=1.5*i,u.getComponent(r).height=1.5*i,p.getComponent(d).size.width=e,w.getComponent(d).size.width=e,C.getComponent(d).size.height=1.5*i,u.getComponent(d).size.height=1.5*i,p.setWorldPosition(e/2,i+50,0),w.setWorldPosition(e/2,-50,0),C.setWorldPosition(-50,i/2,0),u.setWorldPosition(e+50,i/2,0)}}).prototype,"scenePrefabGroup",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=w))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelData.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"21e1dg3UspEgYFkNXOXZGU/","LevelData",void 0);e("LevelData",[{level:1,levelState:"UNLOCKED",shotsNum:16,bestShotsNum:10,getStarNum:0},{level:2,levelState:"LOCKED",shotsNum:16,bestShotsNum:10,getStarNum:0},{level:3,levelState:"LOCKED",shotsNum:21,bestShotsNum:15,getStarNum:0},{level:4,levelState:"LOCKED",shotsNum:16,bestShotsNum:10,getStarNum:0},{level:5,levelState:"LOCKED",shotsNum:26,bestShotsNum:20,getStarNum:0},{level:6,levelState:"LOCKED",shotsNum:26,bestShotsNum:20,getStarNum:0},{level:7,levelState:"LOCKED",shotsNum:26,bestShotsNum:20,getStarNum:0},{level:8,levelState:"LOCKED",shotsNum:26,bestShotsNum:20,getStarNum:0},{level:9,levelState:"LOCKED",shotsNum:26,bestShotsNum:20,getStarNum:0},{level:10,levelState:"LOCKED",shotsNum:26,bestShotsNum:20,getStarNum:0},{level:11,levelState:"LOCKED",shotsNum:26,bestShotsNum:20,getStarNum:0},{level:12,levelState:"LOCKED",shotsNum:26,bestShotsNum:20,getStarNum:0}]);t._RF.pop()}}}));

System.register("chunks:///_virtual/loginView.ts",["cc"],(function(e){"use strict";var i,t,s,n;return{setters:[function(e){i=e.cclegacy,t=e.Component,s=e.find,n=e._decorator}],execute:function(){var a;i._RF.push({},"c7420Iw705C07h+Zy+vkdex","loginView",void 0);const{ccclass:c,property:o}=n;e("loginView",c("loginView")(a=class extends t{constructor(...e){super(...e),this.loginView=null,this.selectView=null,this.mainView=null}onLoad(){}start(){this.loadView()}update(e){}playBTN(){this.selectView.active=!0,this.mainView.active=!1,this.loginView.active=!1}loadView(){this.loginView=this.node,this.selectView=s("Canvas/gameManager/selectView"),this.mainView=s("Canvas/gameManager/mainView")}})||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./LevelData.ts","./fishController.ts","./gameManager.ts","./loginView.ts","./mainView.ts","./selectView.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/mainView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelData.ts","./selectView.ts"],(function(e){"use strict";var t,i,s,n,r,l,h,o,a,c,u,d,p,g,v,m,f,L,w,b,y,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){s=e.cclegacy,n=e.Node,r=e.SpriteFrame,l=e.Prefab,h=e._decorator,o=e.Component,a=e.find,c=e.CameraComponent,u=e.UITransformComponent,d=e.ProgressBar,p=e.Button,g=e.native,v=e.Input,m=e.Vec3,f=e.RigidBody2D,L=e.Vec2,w=e.Sprite,b=e.instantiate},function(e){y=e.LevelData},function(e){M=e.selectView}],execute:function(){var T,C,N,S,V,F,I,G,j,x,P,E,k,z,D,B,R,_,O,A,U,H,W,q,K;s._RF.push({},"603e8u6lqRPrYQfx6uTcj+1","mainView",void 0);const{ccclass:Q,property:Y}=h;e("mainView",(T=Q("mainView"),C=Y(n),N=Y(n),S=Y(n),V=Y(n),F=Y(r),I=Y(n),G=Y(n),j=Y(n),x=Y(l),P=Y(n),T((z=t((k=class extends o{constructor(...e){super(...e),i(this,"currentLevel",z,this),i(this,"maxLevel",D,this),i(this,"levelGroup",B,this),i(this,"Mask",R,this),i(this,"stageIcon",_,this),i(this,"shotsLeftIcon",O,this),i(this,"NumSpriteFrame",A,this),i(this,"winTips",U,this),i(this,"failTips",H,this),i(this,"loading",W,this),i(this,"levelPrefabGroup",q,this),i(this,"tips",K,this),this.targetFish=null,this.camera=null,this.canvas=null,this.shotsLeftNum=0,this.isMove=!1,this.isGameEnd=!1,this.isLoading=!1,this.powerRate=0,this.powerDistance=50,this.judgeList=[],this.loginView=null,this.selectView=null,this.dt=0,this.dt2=0}start(){console.log(this.currentLevel),this.camera=a("Canvas/Camera").getComponent(c),this.canvas=a("Canvas").getComponent(u),this.loginView=a("Canvas/gameManager/loginView"),this.selectView=a("Canvas/gameManager/selectView"),this.initLevel(),this.tips.active=!0}update(e){if(this.isGameEnd||(this.dt+=1,10==this.dt&&(this.dt=0,this.checkIsStopMove(),this.checkIsGameWIn()?(this.winTips.active=!0,this.getStarNum(),this.currentLevel<this.maxLevel&&(y[this.currentLevel].levelState="UNLOCKED"),this.isGameEnd=!0):this.checkIsGameFail()&&(console.log("失败了"),this.failTips.active=!0,this.isGameEnd=!0))),this.isLoading&&(this.dt2+=1,60==this.dt2)){this.dt2=0;let e=this.loading.children[2].getComponent(d).progress;e+=.1,this.loading.children[2].getComponent(d).progress=e,console.log(e),e>=1&&(this.isLoading=!1,this.loading.active=!1)}}nextLevelBTN(){this.currentLevel<this.maxLevel?(this.currentLevel+=1,this.winTips.active=!1,this.initLevel(),this.Advertising()):this.winTips.children[1].children[0].getComponent(p).enabled=!1}againBTN(){this.winTips.active=!1,this.failTips.active=!1,this.initLevel(),this.Advertising()}menuBTN(){this.selectView.active=!0,this.winTips.active=!1,this.failTips.active=!1,this.selectView.getComponent(M).delLock(),this.node.active=!1}closeBTN(){this.tips.active=!1}Advertising(){return g.reflection.callStaticMethod("org.collision.fish.MainView","viewVisible","()V")}initFishTouchEvent(){var e=this.levelGroup.children[0].children[0];for(let t=0;t<e.children.length;t++)e.children[t].on(v.EventType.TOUCH_START,(i=>{this.targetFish=e.children[t],this.targetFish.children[0].active=!0,this.targetFish.children[0].setScale(0,0)}),this),e.children[t].on(v.EventType.TOUCH_MOVE,(i=>{var s;let n=i.getLocation(),r=null==(s=this.camera)?void 0:s.screenToWorld(new m(n.x,n.y)),l=r.x-e.children[t].worldPosition.x,h=r.y-e.children[t].worldPosition.y,o=Math.abs(l),a=Math.abs(h),c=Math.sqrt(Math.pow(o,2)+Math.pow(a,2)),u=o/c,d=Math.acos(u),p=Math.floor(180/(Math.PI/d)),g=-215;l>0&&h>0?(g=-215,g+=p):l<0&&h>0?g=g+180-p:l<0&&h<0?g=g+180+p:l>0&&h<0&&(g=g+360-p);let v=Math.floor(c/85*10)/10;v>1&&(v=1),this.powerRate=v,this.targetFish.children[0].setScale(v,v),this.targetFish.children[0].angle=g})),e.children[t].on(v.EventType.TOUCH_END,(e=>{this.targetFish.children[0].active=!1})),e.children[t].on(v.EventType.TOUCH_CANCEL,(i=>{var s;this.Mask.active=!0,e.children[t].children[0].active=!1;let n=i.getLocation(),r=null==(s=this.camera)?void 0:s.screenToWorld(new m(n.x,n.y)),l=r.x-e.children[t].worldPosition.x,h=r.y-e.children[t].worldPosition.y,o=Math.abs(l),a=Math.abs(h),c=Math.sqrt(Math.pow(o,2)+Math.pow(a,2)),u=o/c,d=a/c,p=this.powerDistance*this.powerRate,g=p*u,v=p*d;var w=e.children[t].getComponent(f);l>0&&h>0?w.linearVelocity=new L(g,v):l<0&&h>0?w.linearVelocity=new L(-g,v):l<0&&h<0?w.linearVelocity=new L(-g,-v):l>0&&h<0&&(w.linearVelocity=new L(g,-v)),this.shotsLeftNum-=1,this.showShotsLeft()}))}initLevel(){this.loading.active=!0,this.loading.children[2].getComponent(d).progress=.8,this.isLoading=!0,this.createLevel(),this.initFishTouchEvent(),this.showStage(),this.shotsLeftNum=y[this.currentLevel-1].shotsNum,this.showShotsLeft(),this.isGameEnd=!1}showStage(){let e=(this.currentLevel-this.currentLevel%10)/10,t=this.currentLevel%10;this.stageIcon.children[0].getComponent(w).spriteFrame=this.NumSpriteFrame[e],this.stageIcon.children[1].getComponent(w).spriteFrame=this.NumSpriteFrame[t]}showShotsLeft(){let e=(this.shotsLeftNum-this.shotsLeftNum%10)/10,t=this.shotsLeftNum%10;this.shotsLeftIcon.children[0].getComponent(w).spriteFrame=this.NumSpriteFrame[e],this.shotsLeftIcon.children[1].getComponent(w).spriteFrame=this.NumSpriteFrame[t]}createLevel(){this.levelGroup.children.length>0&&this.levelGroup.removeAllChildren();let e=b(this.levelPrefabGroup[this.currentLevel-1]);this.levelGroup.addChild(e),e.active=!0}getStarNum(){let e=y[this.currentLevel-1].bestShotsNum,t=y[this.currentLevel-1].shotsNum;if(t-this.shotsLeftNum<=e)y[this.currentLevel-1].getStarNum=3;else{let i=Math.ceil((t-e-this.shotsLeftNum)/3);y[this.currentLevel-1].getStarNum=3-i}}checkIsGameWIn(){if(this.shotsLeftNum>=0){var e=this.levelGroup.children[0].children[0];for(let t=0;t<e.children.length;t++)if(1==e.children[t].active)return!1;return!0}return!1}checkIsGameFail(){if(this.shotsLeftNum<=0){var e=this.levelGroup.children[0].children[0];for(let t=0;t<e.children.length;t++)if(1==e.children[t].active)return!0}return!1}checkIsStopMove(){var e=this.levelGroup.children[0].children[0];for(let t=0;t<e.children.length;t++){let i=e.children[t].getComponent(f);if(Math.abs(i.linearVelocity.x)>.2||Math.abs(i.linearVelocity.y)>.2)return void(this.isMove=!0)}this.isMove=!1,this.isMove||this.judgeIsPop(),this.Mask.active=!1}checkIsLessThree(){}judgeIsPush(e){for(let t=0;t<this.judgeList.length;t++)if(this.judgeList[t]==e)return!1;return this.judgeList.push(e),!0}judgeIsPop(){let e=[],t=this.levelGroup.children[0].children[0];for(let i=0;i<this.judgeList.length-1;i++){e.push(this.judgeList[0]);for(let t=1;t<this.judgeList.length;t++)this.judgeList[t].name==this.judgeList[0].name&&e.push(this.judgeList[t]);for(let i=0;i<e.length;i++){if(e.length>=3)for(let s=0;s<t.children.length;s++)e[i]==t.children[s]&&(t.children[s].active=!1);else for(let s=0;s<t.children.length;s++)e[i]==t.children[s]&&(t.children[s].children[1].active=!1);this.judgeList.splice(this.judgeList.indexOf(e[i]),1)}e=[]}}}).prototype,"currentLevel",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=t(k.prototype,"maxLevel",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 12}}),B=t(k.prototype,"levelGroup",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(k.prototype,"Mask",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(k.prototype,"stageIcon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(k.prototype,"shotsLeftIcon",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(k.prototype,"NumSpriteFrame",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(k.prototype,"winTips",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(k.prototype,"failTips",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(k.prototype,"loading",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(k.prototype,"levelPrefabGroup",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(k.prototype,"tips",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=k))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/selectView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./mainView.ts","./LevelData.ts"],(function(e){"use strict";var i,t,l,r,n,c,a,h,s,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){l=e.cclegacy,r=e.Node,n=e._decorator,c=e.Component,a=e.find,h=e.Button},function(e){s=e.mainView},function(e){d=e.LevelData}],execute:function(){var o,v,u,p,g;l._RF.push({},"ebb389JCShPeJRD/Lo33dSa","selectView",void 0);const{ccclass:m,property:w}=n;e("selectView",(o=m("selectView"),v=w(r),o((g=i((p=class extends c{constructor(...e){super(...e),this.currentLevel=1,this.loginView=null,this.selectView=null,this.mainView=null,t(this,"levelGroup",g,this)}start(){this.loadView(),this.delLock()}update(e){}LevelBTN(e,i){switch(i){case"1":this.currentLevel=1;break;case"2":this.currentLevel=2;break;case"3":this.currentLevel=3;break;case"4":this.currentLevel=4;break;case"5":this.currentLevel=5;break;case"6":this.currentLevel=6;break;case"7":this.currentLevel=7;break;case"8":this.currentLevel=8;break;case"9":this.currentLevel=9;break;case"10":this.currentLevel=10;break;case"11":this.currentLevel=11;break;case"12":this.currentLevel=12;break;default:console.log(null)}this.MainView()}selectBTN(){let e=1;for(let i=0;i<d.length;i++)"UNLOCKED"==d[i].levelState&&(e=i+1);this.currentLevel=e,this.MainView()}MainView(){this.mainView.getComponent(s).currentLevel=this.currentLevel,this.mainView.getComponent(s).initLevel(),this.mainView.getComponent(s).winTips.active=!1,this.mainView.getComponent(s).failTips.active=!1,this.loginView.active=!1,this.mainView.active=!0,this.selectView.active=!1}loadView(){this.loginView=a("Canvas/gameManager/loginView"),this.selectView=this.node,this.mainView=a("Canvas/gameManager/mainView")}delLock(){for(let e=0;e<d.length;e++)if("UNLOCKED"==d[e].levelState){switch(this.levelGroup.children[e].getComponent(h).enabled=!0,this.levelGroup.children[e].children[0].active=!0,d[e].getStarNum){case 1:this.levelGroup.children[e].children[0].getChildByName("starBox").children[0].children[0].active=!0,this.levelGroup.children[e].children[0].getChildByName("starBox").children[1].children[0].active=!1,this.levelGroup.children[e].children[0].getChildByName("starBox").children[2].children[0].active=!1;break;case 2:this.levelGroup.children[e].children[0].getChildByName("starBox").children[0].children[0].active=!0,this.levelGroup.children[e].children[0].getChildByName("starBox").children[1].children[0].active=!0,this.levelGroup.children[e].children[0].getChildByName("starBox").children[2].children[0].active=!1;break;case 3:this.levelGroup.children[e].children[0].getChildByName("starBox").children[0].children[0].active=!0,this.levelGroup.children[e].children[0].getChildByName("starBox").children[1].children[0].active=!0,this.levelGroup.children[e].children[0].getChildByName("starBox").children[2].children[0].active=!0;break;default:this.levelGroup.children[e].children[0].getChildByName("starBox").children[0].children[0].active=!1,this.levelGroup.children[e].children[0].getChildByName("starBox").children[1].children[0].active=!1,this.levelGroup.children[e].children[0].getChildByName("starBox").children[2].children[0].active=!1}this.levelGroup.children[e].children[1].active=!1}else this.levelGroup.children[e].getComponent(h).enabled=!1,this.levelGroup.children[e].children[0].active=!1,this.levelGroup.children[e].children[1].active=!0}}).prototype,"levelGroup",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=p))||u));l._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});